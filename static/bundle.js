!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/build/",n(n.s=7)}([function(e,t){e.exports={},e.exports[0]=e.exports.Xx={symbol:"Xx",name:"unknown",mass:1,radius:1,color:[1,.078,.576],number:0},e.exports[1]=e.exports.H={symbol:"H",name:"hydrogen",mass:1.00794,radius:.31,color:[1,1,1],number:1},e.exports[2]=e.exports.He={symbol:"He",name:"helium",mass:4.002602,radius:.28,color:[.851,1,1],number:2},e.exports[3]=e.exports.Li={symbol:"Li",name:"lithium",mass:6.941,radius:1.28,color:[.8,.502,1],number:3},e.exports[4]=e.exports.Be={symbol:"Be",name:"beryllium",mass:9.012182,radius:.96,color:[.761,1,0],number:4},e.exports[5]=e.exports.B={symbol:"B",name:"boron",mass:10.811,radius:.84,color:[1,.71,.71],number:5},e.exports[6]=e.exports.C={symbol:"C",name:"carbon",mass:12.0107,radius:.73,color:[.565,.565,.565],number:6},e.exports[7]=e.exports.N={symbol:"N",name:"nitrogen",mass:14.0067,radius:.71,color:[.188,.314,.973],number:7},e.exports[8]=e.exports.O={symbol:"O",name:"oxygen",mass:15.9994,radius:.66,color:[1,.051,.051],number:8},e.exports[9]=e.exports.F={symbol:"F",name:"fluorine",mass:18.9984032,radius:.57,color:[.565,.878,.314],number:9},e.exports[10]=e.exports.Ne={symbol:"Ne",name:"neon",mass:20.1797,radius:.58,color:[.702,.89,.961],number:10},e.exports[11]=e.exports.Na={symbol:"Na",name:"sodium",mass:22.98976928,radius:1.66,color:[.671,.361,.949],number:11},e.exports[12]=e.exports.Mg={symbol:"Mg",name:"magnesium",mass:24.305,radius:1.41,color:[.541,1,0],number:12},e.exports[13]=e.exports.Al={symbol:"Al",name:"aluminum",mass:26.9815386,radius:1.21,color:[.749,.651,.651],number:13},e.exports[14]=e.exports.Si={symbol:"Si",name:"silicon",mass:28.0855,radius:1.11,color:[.941,.784,.627],number:14},e.exports[15]=e.exports.P={symbol:"P",name:"phosphorus",mass:30.973762,radius:1.07,color:[1,.502,0],number:15},e.exports[16]=e.exports.S={symbol:"S",name:"sulfur",mass:32.065,radius:1.05,color:[1,1,.188],number:16},e.exports[17]=e.exports.Cl={symbol:"Cl",name:"chlorine",mass:35.453,radius:1.02,color:[.122,.941,.122],number:17},e.exports[18]=e.exports.Ar={symbol:"Ar",name:"argon",mass:39.948,radius:1.06,color:[.502,.82,.89],number:18},e.exports[19]=e.exports.K={symbol:"K",name:"potassium",mass:39.0983,radius:2.03,color:[.561,.251,.831],number:19},e.exports[20]=e.exports.Ca={symbol:"Ca",name:"calcium",mass:40.078,radius:1.76,color:[.239,1,0],number:20},e.exports[21]=e.exports.Sc={symbol:"Sc",name:"scandium",mass:44.955912,radius:1.7,color:[.902,.902,.902],number:21},e.exports[22]=e.exports.Ti={symbol:"Ti",name:"titanium",mass:47.867,radius:1.6,color:[.749,.761,.78],number:22},e.exports[23]=e.exports.V={symbol:"V",name:"vanadium",mass:50.9415,radius:1.53,color:[.651,.651,.671],number:23},e.exports[24]=e.exports.Cr={symbol:"Cr",name:"chromium",mass:51.9961,radius:1.39,color:[.541,.6,.78],number:24},e.exports[25]=e.exports.Mn={symbol:"Mn",name:"manganese",mass:54.938045,radius:1.39,color:[.611,.478,.78],number:25},e.exports[26]=e.exports.Fe={symbol:"Fe",name:"iron",mass:55.845,radius:1.32,color:[.878,.4,.2],number:26},e.exports[27]=e.exports.Co={symbol:"Co",name:"cobalt",mass:58.6934,radius:1.26,color:[.941,.565,.627],number:27},e.exports[28]=e.exports.Ni={symbol:"Ni",name:"nickel",mass:58.933195,radius:1.24,color:[.314,.816,.314],number:28},e.exports[29]=e.exports.Cu={symbol:"Cu",name:"copper",mass:63.546,radius:1.32,color:[.784,.502,.2],number:29},e.exports[30]=e.exports.Zn={symbol:"Zn",name:"zinc",mass:65.38,radius:1.22,color:[.49,.502,.69],number:30},e.exports[31]=e.exports.Ga={symbol:"Ga",name:"gallium",mass:69.723,radius:1.22,color:[.761,.561,.561],number:31},e.exports[32]=e.exports.Ge={symbol:"Ge",name:"germanium",mass:72.64,radius:1.2,color:[.4,.561,.561],number:32},e.exports[33]=e.exports.As={symbol:"As",name:"arsenic",mass:74.9216,radius:1.19,color:[.741,.502,.89],number:33},e.exports[34]=e.exports.Se={symbol:"Se",name:"selenium",mass:78.96,radius:1.2,color:[1,.631,0],number:34},e.exports[35]=e.exports.Br={symbol:"Br",name:"bromine",mass:79.904,radius:1.2,color:[.651,.161,.161],number:35},e.exports[36]=e.exports.Kr={symbol:"Kr",name:"krypton",mass:83.798,radius:1.16,color:[.361,.722,.82],number:36},e.exports[37]=e.exports.Rb={symbol:"Rb",name:"rubidium",mass:85.4678,radius:2.2,color:[.439,.18,.69],number:37},e.exports[38]=e.exports.Sr={symbol:"Sr",name:"strontium",mass:87.62,radius:1.95,color:[0,1,0],number:38},e.exports[39]=e.exports.Y={symbol:"Y",name:"yttrium",mass:88.90585,radius:1.9,color:[.58,1,1],number:39},e.exports[40]=e.exports.Zr={symbol:"Zr",name:"zirconium",mass:91.224,radius:1.75,color:[.58,.878,.878],number:40},e.exports[41]=e.exports.Nb={symbol:"Nb",name:"niobium",mass:92.90638,radius:1.64,color:[.451,.761,.788],number:41},e.exports[42]=e.exports.Mo={symbol:"Mo",name:"molybdenum",mass:95.96,radius:1.54,color:[.329,.71,.71],number:42},e.exports[43]=e.exports.Tc={symbol:"Tc",name:"technetium",mass:98,radius:1.47,color:[.231,.62,.62],number:43},e.exports[44]=e.exports.Ru={symbol:"Ru",name:"ruthenium",mass:101.07,radius:1.46,color:[.141,.561,.561],number:44},e.exports[45]=e.exports.Rh={symbol:"Rh",name:"rhodium",mass:102.9055,radius:1.42,color:[.039,.49,.549],number:45},e.exports[46]=e.exports.Pd={symbol:"Pd",name:"palladium",mass:106.42,radius:1.39,color:[0,.412,.522],number:46},e.exports[47]=e.exports.Ag={symbol:"Ag",name:"silver",mass:107.8682,radius:1.45,color:[.753,.753,.753],number:47},e.exports[48]=e.exports.Cd={symbol:"Cd",name:"cadmium",mass:112.411,radius:1.44,color:[1,.851,.561],number:48},e.exports[49]=e.exports.In={symbol:"In",name:"indium",mass:114.818,radius:1.42,color:[.651,.459,.451],number:49},e.exports[50]=e.exports.Sn={symbol:"Sn",name:"tin",mass:118.71,radius:1.39,color:[.4,.502,.502],number:50},e.exports[51]=e.exports.Sb={symbol:"Sb",name:"antimony",mass:121.76,radius:1.39,color:[.62,.388,.71],number:51},e.exports[52]=e.exports.Te={symbol:"Te",name:"tellurium",mass:127.6,radius:1.38,color:[.831,.478,0],number:52},e.exports[53]=e.exports.I={symbol:"I",name:"iodine",mass:126.9047,radius:1.39,color:[.58,0,.58],number:53},e.exports[54]=e.exports.Xe={symbol:"Xe",name:"xenon",mass:131.293,radius:1.4,color:[.259,.62,.69],number:54},e.exports[55]=e.exports.Cs={symbol:"Cs",name:"cesium",mass:132.9054519,radius:2.44,color:[.341,.09,.561],number:55},e.exports[56]=e.exports.Ba={symbol:"Ba",name:"barium",mass:137.327,radius:2.15,color:[0,.788,0],number:56},e.exports[57]=e.exports.La={symbol:"La",name:"lanthanum",mass:138.90547,radius:2.07,color:[.439,.831,1],number:57},e.exports[58]=e.exports.Ce={symbol:"Ce",name:"cerium",mass:140.116,radius:2.04,color:[1,1,.78],number:58},e.exports[59]=e.exports.Pr={symbol:"Pr",name:"praseodymium",mass:140.90765,radius:2.03,color:[.851,1,.78],number:59},e.exports[60]=e.exports.Nd={symbol:"Nd",name:"neodymium",mass:144.242,radius:2.01,color:[.78,1,.78],number:60},e.exports[61]=e.exports.Pm={symbol:"Pm",name:"promethium",mass:145,radius:1.99,color:[.639,1,.78],number:61},e.exports[62]=e.exports.Sm={symbol:"Sm",name:"samarium",mass:150.36,radius:1.98,color:[.561,1,.78],number:62},e.exports[63]=e.exports.Eu={symbol:"Eu",name:"europium",mass:151.964,radius:1.98,color:[.38,1,.78],number:63},e.exports[64]=e.exports.Gd={symbol:"Gd",name:"gadolinium",mass:157.25,radius:1.96,color:[.271,1,.78],number:64},e.exports[65]=e.exports.Tb={symbol:"Tb",name:"terbium",mass:158.92535,radius:1.94,color:[.189,1,.78],number:65},e.exports[66]=e.exports.Dy={symbol:"Dy",name:"dysprosium",mass:162.5,radius:1.92,color:[.122,1,.78],number:66},e.exports[67]=e.exports.Ho={symbol:"Ho",name:"holmium",mass:164.93032,radius:1.92,color:[0,1,.612],number:67},e.exports[68]=e.exports.Er={symbol:"Er",name:"erbium",mass:167.259,radius:1.89,color:[0,.902,.459],number:68},e.exports[69]=e.exports.Tm={symbol:"Tm",name:"thulium",mass:168.93421,radius:1.9,color:[0,.831,.322],number:69},e.exports[70]=e.exports.Yb={symbol:"Yb",name:"ytterbium",mass:173.054,radius:1.87,color:[0,.749,.22],number:70},e.exports[71]=e.exports.Lu={symbol:"Lu",name:"lutetium",mass:174.9668,radius:1.87,color:[0,.671,.141],number:71},e.exports[72]=e.exports.Hf={symbol:"Hf",name:"hafnium",mass:178.49,radius:1.75,color:[.302,.761,1],number:72},e.exports[73]=e.exports.Ta={symbol:"Ta",name:"tantalum",mass:180.94788,radius:1.7,color:[.302,.651,1],number:73},e.exports[74]=e.exports.W={symbol:"W",name:"tungsten",mass:183.84,radius:1.62,color:[.129,.58,.839],number:74},e.exports[75]=e.exports.Re={symbol:"Re",name:"rhenium",mass:186.207,radius:1.51,color:[.149,.49,.671],number:75},e.exports[76]=e.exports.Os={symbol:"Os",name:"osmium",mass:190.23,radius:1.44,color:[.149,.4,.588],number:76},e.exports[77]=e.exports.Ir={symbol:"Ir",name:"iridium",mass:192.217,radius:1.41,color:[.09,.329,.529],number:77},e.exports[78]=e.exports.Pt={symbol:"Pt",name:"platinum",mass:195.084,radius:1.36,color:[.816,.816,.878],number:78},e.exports[79]=e.exports.Au={symbol:"Au",name:"gold",mass:196.966569,radius:1.36,color:[1,.82,.137],number:79},e.exports[80]=e.exports.Hg={symbol:"Hg",name:"mercury",mass:200.59,radius:1.32,color:[.722,.722,.816],number:80},e.exports[81]=e.exports.Tl={symbol:"Tl",name:"thallium",mass:204.3833,radius:1.45,color:[.651,.329,.302],number:81},e.exports[82]=e.exports.Pb={symbol:"Pb",name:"lead",mass:207.2,radius:1.46,color:[.341,.349,.38],number:82},e.exports[83]=e.exports.Bi={symbol:"Bi",name:"bismuth",mass:208.9804,radius:1.48,color:[.62,.31,.71],number:83},e.exports[84]=e.exports.Po={symbol:"Po",name:"polonium",mass:210,radius:1.4,color:[.671,.361,0],number:84},e.exports[85]=e.exports.At={symbol:"At",name:"astatine",mass:210,radius:1.5,color:[.459,.31,.271],number:85},e.exports[86]=e.exports.Rn={symbol:"Rn",name:"radon",mass:220,radius:1.5,color:[.259,.51,.588],number:86},e.exports[87]=e.exports.Fr={symbol:"Fr",name:"francium",mass:223,radius:2.6,color:[.259,0,.4],number:87},e.exports[88]=e.exports.Ra={symbol:"Ra",name:"radium",mass:226,radius:2.21,color:[0,.49,0],number:88},e.exports[89]=e.exports.Ac={symbol:"Ac",name:"actinium",mass:227,radius:2.15,color:[.439,.671,.98],number:89},e.exports[90]=e.exports.Th={symbol:"Th",name:"thorium",mass:231.03588,radius:2.06,color:[0,.729,1],number:90},e.exports[91]=e.exports.Pa={symbol:"Pa",name:"protactinium",mass:232.03806,radius:2,color:[0,.631,1],number:91},e.exports[92]=e.exports.U={symbol:"U",name:"uranium",mass:237,radius:1.96,color:[0,.561,1],number:92},e.exports[93]=e.exports.Np={symbol:"Np",name:"neptunium",mass:238.02891,radius:1.9,color:[0,.502,1],number:93},e.exports[94]=e.exports.Pu={symbol:"Pu",name:"plutonium",mass:243,radius:1.87,color:[0,.42,1],number:94},e.exports[95]=e.exports.Am={symbol:"Am",name:"americium",mass:244,radius:1.8,color:[.329,.361,.949],number:95},e.exports[96]=e.exports.Cm={symbol:"Cm",name:"curium",mass:247,radius:1.69,color:[.471,.361,.89],number:96},e.exports[97]=e.exports.Bk={symbol:"Bk",name:"berkelium",mass:247,radius:1.66,color:[.541,.31,.89],number:97},e.exports[98]=e.exports.Cf={symbol:"Cf",name:"californium",mass:251,radius:1.68,color:[.631,.212,.831],number:98},e.exports[99]=e.exports.Es={symbol:"Es",name:"einsteinium",mass:252,radius:1.65,color:[.702,.122,.831],number:99},e.exports[100]=e.exports.Fm={symbol:"Fm",name:"fermium",mass:257,radius:1.67,color:[.702,.122,.729],number:100},e.exports[101]=e.exports.Md={symbol:"Md",name:"mendelevium",mass:258,radius:1.73,color:[.702,.051,.651],number:101},e.exports[102]=e.exports.No={symbol:"No",name:"nobelium",mass:259,radius:1.76,color:[.741,.051,.529],number:102},e.exports[103]=e.exports.Lr={symbol:"Lr",name:"lawrencium",mass:262,radius:1.61,color:[.78,0,.4],number:103},e.exports[104]=e.exports.Rf={symbol:"Rf",name:"rutherfordium",mass:261,radius:1.57,color:[.8,0,.349],number:104},e.exports[105]=e.exports.Db={symbol:"Db",name:"dubnium",mass:262,radius:1.49,color:[.82,0,.31],number:105},e.exports[106]=e.exports.Sg={symbol:"Sg",name:"seaborgium",mass:266,radius:1.43,color:[.851,0,.271],number:106},e.exports[107]=e.exports.Bh={symbol:"Bh",name:"bohrium",mass:264,radius:1.41,color:[.878,0,.22],number:107},e.exports[108]=e.exports.Hs={symbol:"Hs",name:"hassium",mass:277,radius:1.34,color:[.902,0,.18],number:108},e.exports[109]=e.exports.Mt={symbol:"Mt",name:"meitnerium",mass:268,radius:1.29,color:[.922,0,.149],number:109},e.exports[110]=e.exports.Ds={symbol:"Ds",name:"Ds",mass:271,radius:1.28,color:[.922,0,.149],number:110},e.exports[111]=e.exports.Uuu={symbol:"Uuu",name:"Uuu",mass:272,radius:1.21,color:[.922,0,.149],number:111},e.exports[112]=e.exports.Uub={symbol:"Uub",name:"Uub",mass:285,radius:1.22,color:[.922,0,.149],number:112},e.exports[113]=e.exports.Uut={symbol:"Uut",name:"Uut",mass:284,radius:1.36,color:[.922,0,.149],number:113},e.exports[114]=e.exports.Uuq={symbol:"Uuq",name:"Uuq",mass:289,radius:1.43,color:[.922,0,.149],number:114},e.exports[115]=e.exports.Uup={symbol:"Uup",name:"Uup",mass:288,radius:1.62,color:[.922,0,.149],number:115},e.exports[116]=e.exports.Uuh={symbol:"Uuh",name:"Uuh",mass:292,radius:1.75,color:[.922,0,.149],number:116},e.exports[117]=e.exports.Uus={symbol:"Uus",name:"Uus",mass:294,radius:1.65,color:[.922,0,.149],number:117},e.exports[118]=e.exports.Uuo={symbol:"Uuo",name:"Uuo",mass:296,radius:1.57,color:[.922,0,.149],number:118}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(5);function a(e,t,n){return Math.min(t,Math.max(e,n))}e.exports.new=function(){return{aspect:1,zoom:.125,translation:{x:0,y:0},atomScale:.6,relativeAtomScale:1,bondScale:.5,rotation:r.mat4.create(),ao:.75,aoRes:256,brightness:.5,outline:0,spf:32,bonds:!1,bondThreshold:1.2,bondShade:.5,atomShade:.5,resolution:768,dofStrength:0,dofPosition:.5,fxaa:1}},e.exports.center=function(e,t){for(var n=-1/0,i=1/0,a=-1/0,s=1/0,u=0;u<t.atoms.length;u++){var l=t.atoms[u],c=o[l.symbol].radius;c=2.5*e.atomScale*(1+(c-1)*e.relativeAtomScale);var f=r.vec4.fromValues(l.x,l.y,l.z,0);r.vec4.transformMat4(f,f,e.rotation),n=Math.max(n,f[0]+c),i=Math.min(i,f[0]-c),a=Math.max(a,f[1]+c),s=Math.min(s,f[1]-c)}var d=i+(n-i)/2,m=s+(a-s)/2;e.translation.x=d,e.translation.y=m;var p=Math.max(n-i,a-s);e.zoom=1/(1.01*p)},e.exports.override=function(e,t){for(var n in t)e[n]=t[n];l(e)},e.exports.clone=function(e){return u(s(e))};var s=e.exports.serialize=function(e){return JSON.stringify(e)},u=e.exports.deserialize=function(e){return(e=JSON.parse(e)).rotation=r.mat4.clone(e.rotation),e},l=e.exports.resolve=function(e){e.dofStrength=a(0,1,e.dofStrength),e.dofPosition=a(0,1,e.dofPosition),e.zoom=a(.001,2,e.zoom),e.atomScale=a(0,1,e.atomScale),e.relativeAtomScale=a(0,1,e.relativeAtomScale),e.bondScale=a(0,1,e.bondScale),e.bondShade=a(0,1,e.bondShade),e.atomShade=a(0,1,e.atomShade),e.ao=a(0,1,e.ao),e.brightness=a(0,1,e.brightness),e.outline=a(0,1,e.outline)};e.exports.translate=function(e,t,n){e.translation.x-=t/(e.resolution*e.zoom),e.translation.y+=n/(e.resolution*e.zoom),l(e)},e.exports.rotate=function(e,t,n){var o=r.mat4.create();r.mat4.rotateY(o,o,.005*t),r.mat4.rotateX(o,o,.005*n),r.mat4.multiply(e.rotation,o,e.rotation);const i=e.ao;e.ao=0,l(e),e.ao=i},e.exports.getRect=function(e){var t=1/e.zoom,n=t/e.aspect;return{bottom:-n/2+e.translation.y,top:n/2+e.translation.y,left:-t/2+e.translation.x,right:t/2+e.translation.x}},e.exports.getBondRadius=function(e){return e.bondScale*e.atomScale*(1+(i.MIN_ATOM_RADIUS-1)*e.relativeAtomScale)}},function(e,t,n){!function(e){"use strict";var n={};n.exports=t,function(e){if(!t)var t=1e-6;if(!n)var n="undefined"!=typeof Float32Array?Float32Array:Array;if(!r)var r=Math.random;var o={setMatrixArrayType:function(e){n=e}};void 0!==e&&(e.glMatrix=o);var i=Math.PI/180;o.toRadian=function(e){return e*i};var a,s={};s.create=function(){var e=new n(2);return e[0]=0,e[1]=0,e},s.clone=function(e){var t=new n(2);return t[0]=e[0],t[1]=e[1],t},s.fromValues=function(e,t){var r=new n(2);return r[0]=e,r[1]=t,r},s.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},s.set=function(e,t,n){return e[0]=t,e[1]=n,e},s.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},s.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},s.sub=s.subtract,s.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},s.mul=s.multiply,s.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},s.div=s.divide,s.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},s.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},s.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},s.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},s.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},s.dist=s.distance,s.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},s.sqrDist=s.squaredDistance,s.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},s.len=s.length,s.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},s.sqrLen=s.squaredLength,s.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},s.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},s.normalize=function(e,t){var n=t[0],r=t[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o),e},s.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},s.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},s.lerp=function(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e},s.random=function(e,t){t=t||1;var n=2*r()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},s.transformMat2=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e},s.transformMat2d=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e},s.transformMat3=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e},s.transformMat4=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e},s.forEach=(a=s.create(),function(e,t,n,r,o,i){var s,u;for(t||(t=2),n||(n=0),u=r?Math.min(r*t+n,e.length):e.length,s=n;s<u;s+=t)a[0]=e[s],a[1]=e[s+1],o(a,a,i),e[s]=a[0],e[s+1]=a[1];return e}),s.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},void 0!==e&&(e.vec2=s);var u={create:function(){var e=new n(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var t=new n(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:function(e,t,r){var o=new n(3);return o[0]=e,o[1]=t,o[2]=r,o},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},set:function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}};u.sub=u.subtract,u.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},u.mul=u.multiply,u.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},u.div=u.divide,u.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},u.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},u.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},u.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},u.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)},u.dist=u.distance,u.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o},u.sqrDist=u.squaredDistance,u.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},u.len=u.length,u.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},u.sqrLen=u.squaredLength,u.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},u.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},u.normalize=function(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e},u.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},u.cross=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],u=n[2];return e[0]=o*u-i*s,e[1]=i*a-r*u,e[2]=r*s-o*a,e},u.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e},u.random=function(e,t){t=t||1;var n=2*r()*Math.PI,o=2*r()-1,i=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=o*t,e},u.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e},u.transformMat3=function(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e},u.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*i-u*o,f=l*o+u*r-a*i,d=l*i+a*o-s*r,m=-a*r-s*o-u*i;return e[0]=c*l+m*-a+f*-u-d*-s,e[1]=f*l+m*-s+d*-a-c*-u,e[2]=d*l+m*-u+c*-s-f*-a,e},u.rotateX=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},u.rotateY=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},u.rotateZ=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},u.forEach=function(){var e=u.create();return function(t,n,r,o,i,a){var s,u;for(n||(n=3),r||(r=0),u=o?Math.min(o*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),u.angle=function(e,t){var n=u.fromValues(e[0],e[1],e[2]),r=u.fromValues(t[0],t[1],t[2]);u.normalize(n,n),u.normalize(r,r);var o=u.dot(n,r);return o>1?0:Math.acos(o)},u.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},void 0!==e&&(e.vec3=u);var l={create:function(){var e=new n(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var t=new n(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},fromValues:function(e,t,r,o){var i=new n(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},set:function(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},subtract:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}};l.sub=l.subtract,l.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},l.mul=l.multiply,l.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},l.div=l.divide,l.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},l.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},l.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},l.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},l.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+o*o+i*i)},l.dist=l.distance,l.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+o*o+i*i},l.sqrDist=l.squaredDistance,l.length=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return Math.sqrt(t*t+n*n+r*r+o*o)},l.len=l.length,l.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return t*t+n*n+r*r+o*o},l.sqrLen=l.squaredLength,l.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},l.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},l.normalize=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a),e},l.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},l.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e},l.random=function(e,t){return t=t||1,e[0]=r(),e[1]=r(),e[2]=r(),e[3]=r(),l.normalize(e,e),l.scale(e,e,t),e},l.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e},l.transformQuat=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*i-u*o,f=l*o+u*r-a*i,d=l*i+a*o-s*r,m=-a*r-s*o-u*i;return e[0]=c*l+m*-a+f*-u-d*-s,e[1]=f*l+m*-s+d*-a-c*-u,e[2]=d*l+m*-u+c*-s-f*-a,e},l.forEach=function(){var e=l.create();return function(t,n,r,o,i,a){var s,u;for(n||(n=4),r||(r=0),u=o?Math.min(o*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),l.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},void 0!==e&&(e.vec4=l);var c={create:function(){var e=new n(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var t=new n(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*i-o*r;return a?(a=1/a,e[0]=i*a,e[1]=-r*a,e[2]=-o*a,e[3]=n*a,e):null},adjoint:function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*s+i*u,e[1]=o*s+a*u,e[2]=r*l+i*c,e[3]=o*l+a*c,e}};c.mul=c.multiply,c.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=o*u+a*s,e[2]=r*-s+i*u,e[3]=o*-s+a*u,e},c.scale=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=o*s,e[2]=i*u,e[3]=a*u,e},c.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},c.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},c.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},void 0!==e&&(e.mat2=c);var f={create:function(){var e=new n(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var t=new n(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=n*i-r*o;return u?(u=1/u,e[0]=i*u,e[1]=-r*u,e[2]=-o*u,e[3]=n*u,e[4]=(o*s-i*a)*u,e[5]=(r*a-n*s)*u,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=n[0],c=n[1],f=n[2],d=n[3],m=n[4],p=n[5];return e[0]=r*l+i*c,e[1]=o*l+a*c,e[2]=r*f+i*d,e[3]=o*f+a*d,e[4]=r*m+i*p+s,e[5]=o*m+a*p+u,e}};f.mul=f.multiply,f.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*l,e[1]=o*c+a*l,e[2]=r*-l+i*c,e[3]=o*-l+a*c,e[4]=s,e[5]=u,e},f.scale=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=o*l,e[2]=i*c,e[3]=a*c,e[4]=s,e[5]=u,e},f.translate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=r*l+i*c+s,e[5]=o*l+a*c+u,e},f.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},f.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},void 0!==e&&(e.mat2d=f);var d={create:function(){var e=new n(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},clone:function(e){var t=new n(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*a-s*l,d=-c*i+s*u,m=l*i-a*u,p=n*f+r*d+o*m;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+o*l)*p,e[2]=(s*r-o*a)*p,e[3]=d*p,e[4]=(c*n-o*u)*p,e[5]=(-s*n+o*i)*p,e[6]=m*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*i)*p,e):null},adjoint:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=a*c-s*l,e[1]=o*l-r*c,e[2]=r*s-o*a,e[3]=s*u-i*c,e[4]=n*c-o*u,e[5]=o*i-n*s,e[6]=i*l-a*u,e[7]=r*u-n*l,e[8]=n*a-r*i,e},determinant:function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*i-a*u)+n*(-l*o+a*s)+r*(u*o-i*s)},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],m=n[1],p=n[2],h=n[3],v=n[4],g=n[5],y=n[6],b=n[7],x=n[8];return e[0]=d*r+m*a+p*l,e[1]=d*o+m*s+p*c,e[2]=d*i+m*u+p*f,e[3]=h*r+v*a+g*l,e[4]=h*o+v*s+g*c,e[5]=h*i+v*u+g*f,e[6]=y*r+b*a+x*l,e[7]=y*o+b*s+x*c,e[8]=y*i+b*u+x*f,e}};d.mul=d.multiply,d.translate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],m=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+m*a+l,e[7]=d*o+m*s+c,e[8]=d*i+m*u+f,e},d.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=Math.sin(n),m=Math.cos(n);return e[0]=m*r+d*a,e[1]=m*o+d*s,e[2]=m*i+d*u,e[3]=m*a-d*r,e[4]=m*s-d*o,e[5]=m*u-d*i,e[6]=l,e[7]=c,e[8]=f,e},d.scale=function(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},d.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},d.fromQuat=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,u=o+o,l=n*a,c=r*a,f=r*s,d=o*a,m=o*s,p=o*u,h=i*a,v=i*s,g=i*u;return e[0]=1-f-p,e[3]=c-g,e[6]=d+v,e[1]=c+g,e[4]=1-l-p,e[7]=m-h,e[2]=d-v,e[5]=m+h,e[8]=1-l-f,e},d.normalFromMat4=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],m=t[11],p=t[12],h=t[13],v=t[14],g=t[15],y=n*s-r*a,b=n*u-o*a,x=n*l-i*a,w=r*u-o*s,E=r*l-i*s,A=o*l-i*u,T=c*h-f*p,S=c*v-d*p,C=c*g-m*p,M=f*v-d*h,R=f*g-m*h,B=d*g-m*v,k=y*B-b*R+x*M+w*C-E*S+A*T;return k?(k=1/k,e[0]=(s*B-u*R+l*M)*k,e[1]=(u*C-a*B-l*S)*k,e[2]=(a*R-s*C+l*T)*k,e[3]=(o*R-r*B-i*M)*k,e[4]=(n*B-o*C+i*S)*k,e[5]=(r*C-n*R-i*T)*k,e[6]=(h*A-v*E+g*w)*k,e[7]=(v*x-p*A-g*b)*k,e[8]=(p*E-h*x+g*y)*k,e):null},d.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},d.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},void 0!==e&&(e.mat3=d);var m={create:function(){var e=new n(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var t=new n(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},invert:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],m=t[11],p=t[12],h=t[13],v=t[14],g=t[15],y=n*s-r*a,b=n*u-o*a,x=n*l-i*a,w=r*u-o*s,E=r*l-i*s,A=o*l-i*u,T=c*h-f*p,S=c*v-d*p,C=c*g-m*p,M=f*v-d*h,R=f*g-m*h,B=d*g-m*v,k=y*B-b*R+x*M+w*C-E*S+A*T;return k?(k=1/k,e[0]=(s*B-u*R+l*M)*k,e[1]=(o*R-r*B-i*M)*k,e[2]=(h*A-v*E+g*w)*k,e[3]=(d*E-f*A-m*w)*k,e[4]=(u*C-a*B-l*S)*k,e[5]=(n*B-o*C+i*S)*k,e[6]=(v*x-p*A-g*b)*k,e[7]=(c*A-d*x+m*b)*k,e[8]=(a*R-s*C+l*T)*k,e[9]=(r*C-n*R-i*T)*k,e[10]=(p*E-h*x+g*y)*k,e[11]=(f*x-c*E-m*y)*k,e[12]=(s*S-a*M-u*T)*k,e[13]=(n*M-r*S+o*T)*k,e[14]=(h*b-p*w-v*y)*k,e[15]=(c*w-f*b+d*y)*k,e):null},adjoint:function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],m=t[11],p=t[12],h=t[13],v=t[14],g=t[15];return e[0]=s*(d*g-m*v)-f*(u*g-l*v)+h*(u*m-l*d),e[1]=-(r*(d*g-m*v)-f*(o*g-i*v)+h*(o*m-i*d)),e[2]=r*(u*g-l*v)-s*(o*g-i*v)+h*(o*l-i*u),e[3]=-(r*(u*m-l*d)-s*(o*m-i*d)+f*(o*l-i*u)),e[4]=-(a*(d*g-m*v)-c*(u*g-l*v)+p*(u*m-l*d)),e[5]=n*(d*g-m*v)-c*(o*g-i*v)+p*(o*m-i*d),e[6]=-(n*(u*g-l*v)-a*(o*g-i*v)+p*(o*l-i*u)),e[7]=n*(u*m-l*d)-a*(o*m-i*d)+c*(o*l-i*u),e[8]=a*(f*g-m*h)-c*(s*g-l*h)+p*(s*m-l*f),e[9]=-(n*(f*g-m*h)-c*(r*g-i*h)+p*(r*m-i*f)),e[10]=n*(s*g-l*h)-a*(r*g-i*h)+p*(r*l-i*s),e[11]=-(n*(s*m-l*f)-a*(r*m-i*f)+c*(r*l-i*s)),e[12]=-(a*(f*v-d*h)-c*(s*v-u*h)+p*(s*d-u*f)),e[13]=n*(f*v-d*h)-c*(r*v-o*h)+p*(r*d-o*f),e[14]=-(n*(s*v-u*h)-a*(r*v-o*h)+p*(r*u-o*s)),e[15]=n*(s*d-u*f)-a*(r*d-o*f)+c*(r*u-o*s),e},determinant:function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],m=e[12],p=e[13],h=e[14],v=e[15];return(t*a-n*i)*(f*v-d*h)-(t*s-r*i)*(c*v-d*p)+(t*u-o*i)*(c*h-f*p)+(n*s-r*a)*(l*v-d*m)-(n*u-o*a)*(l*h-f*m)+(r*u-o*s)*(l*p-c*m)},multiply:function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],m=t[10],p=t[11],h=t[12],v=t[13],g=t[14],y=t[15],b=n[0],x=n[1],w=n[2],E=n[3];return e[0]=b*r+x*s+w*f+E*h,e[1]=b*o+x*u+w*d+E*v,e[2]=b*i+x*l+w*m+E*g,e[3]=b*a+x*c+w*p+E*y,b=n[4],x=n[5],w=n[6],E=n[7],e[4]=b*r+x*s+w*f+E*h,e[5]=b*o+x*u+w*d+E*v,e[6]=b*i+x*l+w*m+E*g,e[7]=b*a+x*c+w*p+E*y,b=n[8],x=n[9],w=n[10],E=n[11],e[8]=b*r+x*s+w*f+E*h,e[9]=b*o+x*u+w*d+E*v,e[10]=b*i+x*l+w*m+E*g,e[11]=b*a+x*c+w*p+E*y,b=n[12],x=n[13],w=n[14],E=n[15],e[12]=b*r+x*s+w*f+E*h,e[13]=b*o+x*u+w*d+E*v,e[14]=b*i+x*l+w*m+E*g,e[15]=b*a+x*c+w*p+E*y,e}};m.mul=m.multiply,m.translate=function(e,t,n){var r,o,i,a,s,u,l,c,f,d,m,p,h=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*h+t[4]*v+t[8]*g+t[12],e[13]=t[1]*h+t[5]*v+t[9]*g+t[13],e[14]=t[2]*h+t[6]*v+t[10]*g+t[14],e[15]=t[3]*h+t[7]*v+t[11]*g+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],m=t[10],p=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=d,e[10]=m,e[11]=p,e[12]=r*h+s*v+f*g+t[12],e[13]=o*h+u*v+d*g+t[13],e[14]=i*h+l*v+m*g+t[14],e[15]=a*h+c*v+p*g+t[15]),e},m.scale=function(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},m.rotate=function(e,n,r,o){var i,a,s,u,l,c,f,d,m,p,h,v,g,y,b,x,w,E,A,T,S,C,M,R,B=o[0],k=o[1],D=o[2],I=Math.sqrt(B*B+k*k+D*D);return Math.abs(I)<t?null:(B*=I=1/I,k*=I,D*=I,i=Math.sin(r),s=1-(a=Math.cos(r)),u=n[0],l=n[1],c=n[2],f=n[3],d=n[4],m=n[5],p=n[6],h=n[7],v=n[8],g=n[9],y=n[10],b=n[11],x=B*B*s+a,w=k*B*s+D*i,E=D*B*s-k*i,A=B*k*s-D*i,T=k*k*s+a,S=D*k*s+B*i,C=B*D*s+k*i,M=k*D*s-B*i,R=D*D*s+a,e[0]=u*x+d*w+v*E,e[1]=l*x+m*w+g*E,e[2]=c*x+p*w+y*E,e[3]=f*x+h*w+b*E,e[4]=u*A+d*T+v*S,e[5]=l*A+m*T+g*S,e[6]=c*A+p*T+y*S,e[7]=f*A+h*T+b*S,e[8]=u*C+d*M+v*R,e[9]=l*C+m*M+g*R,e[10]=c*C+p*M+y*R,e[11]=f*C+h*M+b*R,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e)},m.rotateX=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+l*r,e[5]=a*o+c*r,e[6]=s*o+f*r,e[7]=u*o+d*r,e[8]=l*o-i*r,e[9]=c*o-a*r,e[10]=f*o-s*r,e[11]=d*o-u*r,e},m.rotateY=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-l*r,e[1]=a*o-c*r,e[2]=s*o-f*r,e[3]=u*o-d*r,e[8]=i*r+l*o,e[9]=a*r+c*o,e[10]=s*r+f*o,e[11]=u*r+d*o,e},m.rotateZ=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+l*r,e[1]=a*o+c*r,e[2]=s*o+f*r,e[3]=u*o+d*r,e[4]=l*o-i*r,e[5]=c*o-a*r,e[6]=f*o-s*r,e[7]=d*o-u*r,e},m.fromRotationTranslation=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=r+r,u=o+o,l=i+i,c=r*s,f=r*u,d=r*l,m=o*u,p=o*l,h=i*l,v=a*s,g=a*u,y=a*l;return e[0]=1-(m+h),e[1]=f+y,e[2]=d-g,e[3]=0,e[4]=f-y,e[5]=1-(c+h),e[6]=p+v,e[7]=0,e[8]=d+g,e[9]=p-v,e[10]=1-(c+m),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},m.fromQuat=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,u=o+o,l=n*a,c=r*a,f=r*s,d=o*a,m=o*s,p=o*u,h=i*a,v=i*s,g=i*u;return e[0]=1-f-p,e[1]=c+g,e[2]=d-v,e[3]=0,e[4]=c-g,e[5]=1-l-p,e[6]=m+h,e[7]=0,e[8]=d+v,e[9]=m-h,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},m.frustum=function(e,t,n,r,o,i,a){var s=1/(n-t),u=1/(o-r),l=1/(i-a);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(o+r)*u,e[10]=(a+i)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*l,e[15]=0,e},m.perspective=function(e,t,n,r,o){var i=1/Math.tan(t/2),a=1/(r-o);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*a,e[15]=0,e},m.ortho=function(e,t,n,r,o,i,a){var s=1/(t-n),u=1/(r-o),l=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*u,e[14]=(a+i)*l,e[15]=1,e},m.lookAt=function(e,n,r,o){var i,a,s,u,l,c,f,d,p,h,v=n[0],g=n[1],y=n[2],b=o[0],x=o[1],w=o[2],E=r[0],A=r[1],T=r[2];return Math.abs(v-E)<t&&Math.abs(g-A)<t&&Math.abs(y-T)<t?m.identity(e):(f=v-E,d=g-A,p=y-T,i=x*(p*=h=1/Math.sqrt(f*f+d*d+p*p))-w*(d*=h),a=w*(f*=h)-b*p,s=b*d-x*f,(h=Math.sqrt(i*i+a*a+s*s))?(i*=h=1/h,a*=h,s*=h):(i=0,a=0,s=0),u=d*s-p*a,l=p*i-f*s,c=f*a-d*i,(h=Math.sqrt(u*u+l*l+c*c))?(u*=h=1/h,l*=h,c*=h):(u=0,l=0,c=0),e[0]=i,e[1]=u,e[2]=f,e[3]=0,e[4]=a,e[5]=l,e[6]=d,e[7]=0,e[8]=s,e[9]=c,e[10]=p,e[11]=0,e[12]=-(i*v+a*g+s*y),e[13]=-(u*v+l*g+c*y),e[14]=-(f*v+d*g+p*y),e[15]=1,e)},m.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},m.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},void 0!==e&&(e.mat4=m);var p,h,v,g,y={};y.create=function(){var e=new n(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},y.rotationTo=(p=u.create(),h=u.fromValues(1,0,0),v=u.fromValues(0,1,0),function(e,t,n){var r=u.dot(t,n);return r<-.999999?(u.cross(p,h,t),u.length(p)<1e-6&&u.cross(p,v,t),u.normalize(p,p),y.setAxisAngle(e,p,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(u.cross(p,t,n),e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=1+r,y.normalize(e,e))}),y.setAxes=(g=d.create(),function(e,t,n,r){return g[0]=n[0],g[3]=n[1],g[6]=n[2],g[1]=r[0],g[4]=r[1],g[7]=r[2],g[2]=-t[0],g[5]=-t[1],g[8]=-t[2],y.normalize(e,y.fromMat3(e,g))}),y.clone=l.clone,y.fromValues=l.fromValues,y.copy=l.copy,y.set=l.set,y.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},y.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},y.add=l.add,y.multiply=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+o*l-i*u,e[1]=o*c+a*u+i*s-r*l,e[2]=i*c+a*l+r*u-o*s,e[3]=a*c-r*s-o*u-i*l,e},y.mul=y.multiply,y.scale=l.scale,y.rotateX=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=o*u+i*s,e[2]=i*u-o*s,e[3]=a*u-r*s,e},y.rotateY=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-i*s,e[1]=o*u+a*s,e[2]=i*u+r*s,e[3]=a*u-o*s,e},y.rotateZ=function(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=o*u-r*s,e[2]=i*u+a*s,e[3]=a*u-i*s,e},y.calculateW=function(e,t){var n=t[0],r=t[1],o=t[2];return e[0]=n,e[1]=r,e[2]=o,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),e},y.dot=l.dot,y.lerp=l.lerp,y.slerp=function(e,t,n,r){var o,i,a,s,u,l=t[0],c=t[1],f=t[2],d=t[3],m=n[0],p=n[1],h=n[2],v=n[3];return(i=l*m+c*p+f*h+d*v)<0&&(i=-i,m=-m,p=-p,h=-h,v=-v),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,u=Math.sin(r*o)/a):(s=1-r,u=r),e[0]=s*l+u*m,e[1]=s*c+u*p,e[2]=s*f+u*h,e[3]=s*d+u*v,e},y.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-o*s,e[3]=i*s,e},y.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},y.length=l.length,y.len=y.length,y.squaredLength=l.squaredLength,y.sqrLen=y.squaredLength,y.normalize=l.normalize,y.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(t[3*o+o]-t[3*i+i]-t[3*a+a]+1),e[o]=.5*n,n=.5/n,e[3]=(t[3*i+a]-t[3*a+i])*n,e[i]=(t[3*i+o]+t[3*o+i])*n,e[a]=(t[3*a+o]+t[3*o+a])*n}return e},y.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},void 0!==e&&(e.quat=y)}(n.exports)}()},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(5),a=(e.exports.new=function(){return{atoms:[],farAtom:void 0,bonds:[]}},e.exports.calculateBonds=function(e){var t=[],n=e.atoms.slice();n.sort(function(e,t){return e.z-t.z});for(var a=0;a<n.length;a++)for(var s=n[a],u=a+1;u<n.length&&n[u].z<n[a].z+5*i.MAX_ATOM_RADIUS;){var l=n[u],c=r.vec3.fromValues(s.x,s.y,s.z),f=r.vec3.fromValues(l.x,l.y,l.z),d=r.vec3.distance(c,f),m=o[s.symbol],p=o[l.symbol];d<2.5*(m.radius+p.radius)&&t.push({posA:{x:s.x,y:s.y,z:s.z},posB:{x:l.x,y:l.y,z:l.z},radA:m.radius,radB:p.radius,colA:{r:m.color[0],g:m.color[1],b:m.color[2]},colB:{r:p.color[0],g:p.color[1],b:p.color[2]},cutoff:d/(m.radius+p.radius)}),u++}t.sort(function(e,t){return e.cutoff-t.cutoff}),e.bonds=t},e.exports.addAtom=function(e,t,n,r,o){e.atoms.push({symbol:t,x:n,y:r,z:o})},e.exports.getCentroid=function(e){for(var t=0,n=0,r=0,o=0;o<e.atoms.length;o++)t+=e.atoms[o].x,n+=e.atoms[o].y,r+=e.atoms[o].z;return{x:t/e.atoms.length,y:n/e.atoms.length,z:r/e.atoms.length}}),s=(e.exports.center=function(e){for(var t=a(e),n=0;n<e.atoms.length;n++){var r=e.atoms[n];r.x-=t.x,r.y-=t.y,r.z-=t.z}},e.exports.getFarAtom=function(e){if(void 0!==e.farAtom)return e.farAtom;e.farAtom=e.atoms[0];for(var t=0,n=0;n<e.atoms.length;n++){var r=e.atoms[n],i=o[r.symbol].radius,a=2.5*Math.sqrt(i*i+i*i+i*i),s=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z)+a;s>t&&(t=s,e.farAtom=r)}return e.farAtom});e.exports.getRadius=function(e){var t=s(e),n=i.MAX_ATOM_RADIUS,r=2.5*Math.sqrt(n*n+n*n+n*n);return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)+r}},function(e,t,n){"use strict";var r=n(2),o=n(8),i=n(9),a=n(0),s=n(1),u=n(3),l=n(10);function c(e,t){return t=t.split("// __split__"),new o.Program(e,t[0],t[1])}e.exports=function(e,t,n){var f,d,m,p,h,v,g,y,b,x,w,E,A,T,S,C,M,R,B,k,D,I,L,F,P,_,N,U=this,O=null,j=null,q=null,H=null,z=null,W=null,X=0,V=!1,$=!1;function G(e){m.viewport(0,0,n,n);var o=s.clone(e);o.zoom=1/f,o.translation.x=0,o.translation.y=0;for(var i=r.mat4.create(),a=0;a<3;a++){var u=r.vec3.random(r.vec3.create(),1);r.mat4.rotate(i,i,10*Math.random(),u)}o.rotation=r.mat4.multiply(r.mat4.create(),i,o.rotation),M.bind(),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT);var l=s.getRect(o),c=r.mat4.create();r.mat4.ortho(c,l.left,l.right,l.bottom,l.top,0,f);var d=r.mat4.create();r.mat4.lookAt(d,[0,0,0],[0,0,-1],[0,1,0]);var p=r.mat4.create();r.mat4.translate(p,p,[0,0,-f/2]),r.mat4.multiply(p,p,o.rotation),D.setUniform("uProjection","Matrix4fv",!1,c),D.setUniform("uView","Matrix4fv",!1,d),D.setUniform("uModel","Matrix4fv",!1,p),D.setUniform("uBottomLeft","2fv",[l.left,l.bottom]),D.setUniform("uTopRight","2fv",[l.right,l.top]),D.setUniform("uAtomScale","1f",2.5*o.atomScale),D.setUniform("uRelativeAtomScale","1f",e.relativeAtomScale),D.setUniform("uRes","1f",n),D.setUniform("uDepth","1f",f),D.setUniform("uMode","1i",0),D.setUniform("uAtomShade","1f",e.atomShade),O.render(),e.bonds&&null!=j&&(I.setUniform("uProjection","Matrix4fv",!1,c),I.setUniform("uView","Matrix4fv",!1,d),I.setUniform("uModel","Matrix4fv",!1,p),I.setUniform("uRotation","Matrix4fv",!1,o.rotation),I.setUniform("uDepth","1f",f),I.setUniform("uBottomLeft","2fv",[l.left,l.bottom]),I.setUniform("uTopRight","2fv",[l.right,l.top]),I.setUniform("uRes","1f",n),I.setUniform("uBondRadius","1f",2.5*s.getBondRadius(e)),I.setUniform("uBondShade","1f",e.bondShade),I.setUniform("uAtomScale","1f",2.5*e.atomScale),I.setUniform("uRelativeAtomScale","1f",e.relativeAtomScale),I.setUniform("uMode","1i",0),j.render()),m.viewport(0,0,t,t);var y=s.getRect(e),x=s.getRect(o),w=r.mat4.invert(r.mat4.create(),i);R.bind(),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),L.setUniform("uSceneDepth","1i",v.index),L.setUniform("uSceneNormal","1i",h.index),L.setUniform("uRandRotDepth","1i",g.index),L.setUniform("uAccumulator","1i",b.index),L.setUniform("uSceneBottomLeft","2fv",[y.left,y.bottom]),L.setUniform("uSceneTopRight","2fv",[y.right,y.top]),L.setUniform("uRotBottomLeft","2fv",[x.left,x.bottom]),L.setUniform("uRotTopRight","2fv",[x.right,x.top]),L.setUniform("uRes","1f",t),L.setUniform("uDepth","1f",f),L.setUniform("uRot","Matrix4fv",!1,i),L.setUniform("uInvRot","Matrix4fv",!1,w),L.setUniform("uSampleCount","1i",X),q.render(),b.activate(),b.bind(),m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,t,t,0)}U.getAOProgress=function(){return X/1024},U.initialize=function(){e.width=e.height=t,(m=e.getContext("webgl")).enable(m.DEPTH_TEST),m.enable(m.CULL_FACE),m.clearColor(0,0,0,0),m.clearDepth(1),m.viewport(0,0,t,t),window.gl=m,o.getExtensions(m,["EXT_frag_depth","WEBGL_depth_texture"]),U.createTextures(),D=c(m,l.shaders.atom),I=c(m,l.shaders.bond),N=c(m,l.shaders["textured-quad"]),L=c(m,l.shaders.accumulator),F=c(m,l.shaders.ao),P=c(m,l.shaders.fxaa),_=c(m,l.shaders.dof);var n=[-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0],r=o.buildAttribs(m,{aPosition:3});r.aPosition.buffer.set(new Float32Array(n));var i=n.length/9;new o.Renderable(m,N,r,i),q=new o.Renderable(m,L,r,i),H=new o.Renderable(m,F,r,i),W=new o.Renderable(m,P,r,i),z=new o.Renderable(m,_,r,i),0},U.createTextures=function(){y=new o.Texture(m,0,null,n,n),g=new o.Texture(m,1,null,n,n,{internalFormat:m.DEPTH_COMPONENT,format:m.DEPTH_COMPONENT,type:m.UNSIGNED_SHORT}),M=new o.Framebuffer(m,[y],g),p=new o.Texture(m,2,null,t,t),h=new o.Texture(m,3,null,t,t),v=new o.Texture(m,4,null,t,t,{internalFormat:m.DEPTH_COMPONENT,format:m.DEPTH_COMPONENT,type:m.UNSIGNED_SHORT}),S=new o.Framebuffer(m,[p],v),C=new o.Framebuffer(m,[h],v),b=new o.Texture(m,5,null,t,t),x=new o.Texture(m,6,null,t,t),R=new o.Framebuffer(m,[x]),T=new o.Texture(m,7,null,t,t),k=new o.Framebuffer(m,[T]),w=new o.Texture(m,8,null,t,t),E=new o.Texture(m,9,null,t,t),B=new o.Framebuffer(m,[E]),A=new o.Texture(m,10,null,t,t),new o.Framebuffer(m,[A])},U.setResolution=function(r,o){n=o,t=r,e.width=e.height=t,m.viewport(0,0,t,t),U.createTextures()},U.setSystem=function(e,t){function n(e){for(var t=[],n=0;n<36;n++)t.push.apply(t,e);return t}d=e;for(var r=o.buildAttribs(m,{aImposter:3,aPosition:3,aRadius:1,aColor:3}),s=[],u=[],l=[],c=[],f=0;f<d.atoms.length;f++){s.push.apply(s,i.position);var p=d.atoms[f];u.push.apply(u,n([p.x,p.y,p.z])),l.push.apply(l,n([a[p.symbol].radius]));var h=a[p.symbol].color;c.push.apply(c,n([h[0],h[1],h[2]]))}r.aImposter.buffer.set(new Float32Array(s)),r.aPosition.buffer.set(new Float32Array(u)),r.aRadius.buffer.set(new Float32Array(l)),r.aColor.buffer.set(new Float32Array(c));var v=s.length/9;if(O=new o.Renderable(m,D,r,v),t.bonds&&(j=null,d.bonds.length>0)){r=o.buildAttribs(m,{aImposter:3,aPosA:3,aPosB:3,aRadA:1,aRadB:1,aColA:3,aColB:3}),s=[];var g=[],y=[],b=[],x=[],w=[],E=[];for(f=0;f<d.bonds.length;f++){var A=d.bonds[f];if(A.cutoff>t.bondThreshold)break;s.push.apply(s,i.position),g.push.apply(g,n([A.posA.x,A.posA.y,A.posA.z])),y.push.apply(y,n([A.posB.x,A.posB.y,A.posB.z])),b.push.apply(b,n([A.radA])),x.push.apply(x,n([A.radB])),w.push.apply(w,n([A.colA.r,A.colA.g,A.colA.b])),E.push.apply(E,n([A.colB.r,A.colB.g,A.colB.b]))}r.aImposter.buffer.set(new Float32Array(s)),r.aPosA.buffer.set(new Float32Array(g)),r.aPosB.buffer.set(new Float32Array(y)),r.aRadA.buffer.set(new Float32Array(b)),r.aRadB.buffer.set(new Float32Array(x)),r.aColA.buffer.set(new Float32Array(w)),r.aColB.buffer.set(new Float32Array(E));v=s.length/9;j=new o.Renderable(m,I,r,v)}},U.reset=function(){X=0,V=!1,$=!1,b.reset(),x.reset()},U.render=function(e){if(void 0!==d&&null!=O){if(f=2*u.getRadius(d),V)if($)for(var n=0;n<e.spf&&!(X>1024);n++)G(e),X++;else!function(e){$=!0,m.viewport(0,0,t,t),C.bind(),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT);var n=s.getRect(e),o=r.mat4.create();r.mat4.ortho(o,n.left,n.right,n.bottom,n.top,0,f);var i=r.mat4.create();r.mat4.lookAt(i,[0,0,0],[0,0,-1],[0,1,0]);var a=r.mat4.create();r.mat4.translate(a,a,[0,0,-f/2]),r.mat4.multiply(a,a,e.rotation),D.setUniform("uProjection","Matrix4fv",!1,o),D.setUniform("uView","Matrix4fv",!1,i),D.setUniform("uModel","Matrix4fv",!1,a),D.setUniform("uBottomLeft","2fv",[n.left,n.bottom]),D.setUniform("uTopRight","2fv",[n.right,n.top]),D.setUniform("uAtomScale","1f",2.5*e.atomScale),D.setUniform("uRelativeAtomScale","1f",e.relativeAtomScale),D.setUniform("uRes","1f",t),D.setUniform("uDepth","1f",f),D.setUniform("uMode","1i",1),D.setUniform("uAtomShade","1f",e.atomShade),O.render(),e.bonds&&null!=j&&(C.bind(),I.setUniform("uProjection","Matrix4fv",!1,o),I.setUniform("uView","Matrix4fv",!1,i),I.setUniform("uModel","Matrix4fv",!1,a),I.setUniform("uRotation","Matrix4fv",!1,e.rotation),I.setUniform("uDepth","1f",f),I.setUniform("uBottomLeft","2fv",[n.left,n.bottom]),I.setUniform("uTopRight","2fv",[n.right,n.top]),I.setUniform("uRes","1f",t),I.setUniform("uBondRadius","1f",2.5*s.getBondRadius(e)),I.setUniform("uBondShade","1f",e.bondShade),I.setUniform("uAtomScale","1f",2.5*e.atomScale),I.setUniform("uRelativeAtomScale","1f",e.relativeAtomScale),I.setUniform("uMode","1i",1),j.render())}(e);else!function(e){V=!0,m.viewport(0,0,t,t),S.bind(),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT);var n=s.getRect(e),o=r.mat4.create();r.mat4.ortho(o,n.left,n.right,n.bottom,n.top,0,f);var i=r.mat4.create();r.mat4.lookAt(i,[0,0,0],[0,0,-1],[0,1,0]);var a=r.mat4.create();r.mat4.translate(a,a,[0,0,-f/2]),r.mat4.multiply(a,a,e.rotation),D.setUniform("uProjection","Matrix4fv",!1,o),D.setUniform("uView","Matrix4fv",!1,i),D.setUniform("uModel","Matrix4fv",!1,a),D.setUniform("uBottomLeft","2fv",[n.left,n.bottom]),D.setUniform("uTopRight","2fv",[n.right,n.top]),D.setUniform("uAtomScale","1f",2.5*e.atomScale),D.setUniform("uRelativeAtomScale","1f",e.relativeAtomScale),D.setUniform("uRes","1f",t),D.setUniform("uDepth","1f",f),D.setUniform("uMode","1i",0),D.setUniform("uAtomShade","1f",e.atomShade),O.render(),e.bonds&&null!=j&&(S.bind(),I.setUniform("uProjection","Matrix4fv",!1,o),I.setUniform("uView","Matrix4fv",!1,i),I.setUniform("uModel","Matrix4fv",!1,a),I.setUniform("uRotation","Matrix4fv",!1,e.rotation),I.setUniform("uDepth","1f",f),I.setUniform("uBottomLeft","2fv",[n.left,n.bottom]),I.setUniform("uTopRight","2fv",[n.right,n.top]),I.setUniform("uRes","1f",t),I.setUniform("uBondRadius","1f",2.5*s.getBondRadius(e)),I.setUniform("uBondShade","1f",e.bondShade),I.setUniform("uAtomScale","1f",2.5*e.atomScale),I.setUniform("uRelativeAtomScale","1f",e.relativeAtomScale),I.setUniform("uMode","1i",0),j.render())}(e);!function(e){m.viewport(0,0,t,t),e.fxaa>0||e.dofStrength>0?k.bind():m.bindFramebuffer(m.FRAMEBUFFER,null);if(m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),F.setUniform("uSceneColor","1i",p.index),F.setUniform("uSceneDepth","1i",v.index),F.setUniform("uAccumulatorOut","1i",x.index),F.setUniform("uRes","1f",t),F.setUniform("uAO","1f",2*e.ao),F.setUniform("uBrightness","1f",2*e.brightness),F.setUniform("uOutlineStrength","1f",e.outline),H.render(),e.fxaa>0){e.dofStrength>0?B.bind():m.bindFramebuffer(m.FRAMEBUFFER,null);for(var n=0;n<e.fxaa;n++)m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),0==n?P.setUniform("uTexture","1i",T.index):P.setUniform("uTexture","1i",w.index),P.setUniform("uRes","1f",t),W.render(),w.activate(),w.bind(),m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,t,t,0)}e.dofStrength>0&&(m.bindFramebuffer(m.FRAMEBUFFER,null),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),e.fxaa>0?_.setUniform("uColor","1i",w.index):_.setUniform("uColor","1i",T.index),_.setUniform("uDepth","1i",v.index),_.setUniform("uDOFPosition","1f",e.dofPosition),_.setUniform("uDOFStrength","1f",e.dofStrength),_.setUniform("uRes","1f",t),z.render())}(e)}},U.initialize()}},function(e,t,n){"use strict";for(var r=n(0),o=1/0,i=-1/0,a=0;a<=118;a++)o=Math.min(o,r[a].radius),i=Math.max(i,r[a].radius);e.exports.MIN_ATOM_RADIUS=o,e.exports.MAX_ATOM_RADIUS=i},function(e,t){e.exports={default:{atomScale:.6,relativeAtomScale:1,bondScale:.5,ao:.75,aoRes:256,brightness:.5,outline:0,spf:32,bonds:!1,bondThreshold:1.2,bondShade:.5,atomShade:.5,dofStrength:0,dofPosition:.5,fxaa:1},stickball:{atomScale:.24,relativeAtomScale:.64,bondScale:.5,bonds:!0,bondThreshold:1.2},toon:{ao:0,spf:0,brightness:.5,outline:1},licorice:{atomScale:.1,relativeAtomScale:0,bondScale:1,bonds:!0,bondThreshold:1.2}}},function(e,t,n){const r=n(4),o=n(3),i=n(1),a=n(11),s=n(6);n(12);e.exports={speckRenderer:r,speckSystem:o,speckView:i,speckInteractions:a,speckPresetViews:s}},function(e,t){function n(e){var t=this;t.initialize=function(){t.buffer=e.createBuffer()},t.bind=function(){e.bindBuffer(e.ARRAY_BUFFER,t.buffer)},t.set=function(n){t.bind(),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},t.initialize()}e.exports.buildAttribs=function(e,t){var r={};for(var o in t)r[o]={buffer:new n(e),size:t[o]};return r},e.exports.getExtensions=function(e,t){for(var n={},r=0;r<t.length;r++){var o=e.getExtension(t[r]);if(null===o)throw"Extension "+t[r]+" not available.";n[t[r]]=o}return n},e.exports.Framebuffer=function(e,t,n,r){var o=this;o.initialize=function(){if(o.fb=e.createFramebuffer(),o.bind(),t.length>1){for(var i=[],a=0;a<t.length;a++)i.push(r["COLOR_ATTACHMENT"+a+"_WEBGL"]);for(r.drawBuffersWEBGL(i),a=0;a<t.length;a++)e.framebufferTexture2D(e.FRAMEBUFFER,r["COLOR_ATTACHMENT"+a+"_WEBGL"],e.TEXTURE_2D,t[a].texture,0)}else e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t[0].texture,0);void 0!==n&&e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,n.texture,0)},o.bind=function(){e.bindFramebuffer(e.FRAMEBUFFER,o.fb)},o.initialize()},e.exports.Texture=function(e,t,n,r,o,i){(i=i||{}).target=i.target||e.TEXTURE_2D,i.mag=i.mag||e.NEAREST,i.min=i.min||e.NEAREST,i.wraps=i.wraps||e.CLAMP_TO_EDGE,i.wrapt=i.wrapt||e.CLAMP_TO_EDGE,i.internalFormat=i.internalFormat||e.RGBA,i.format=i.format||e.RGBA,i.type=i.type||e.UNSIGNED_BYTE;var a=this;a.initialize=function(){a.index=t,a.activate(),a.texture=e.createTexture(),a.bind(),e.texParameteri(i.target,e.TEXTURE_MAG_FILTER,i.mag),e.texParameteri(i.target,e.TEXTURE_MIN_FILTER,i.min),e.texParameteri(i.target,e.TEXTURE_WRAP_S,i.wraps),e.texParameteri(i.target,e.TEXTURE_WRAP_T,i.wrapt),e.texImage2D(i.target,0,i.internalFormat,r,o,0,i.format,i.type,n)},a.bind=function(){e.bindTexture(i.target,a.texture)},a.activate=function(){e.activeTexture(e.TEXTURE0+a.index)},a.reset=function(){a.activate(),a.bind(),e.texImage2D(i.target,0,i.internalFormat,r,o,0,i.format,i.type,n)},a.initialize()},e.exports.GLBuffer=n,e.exports.Renderable=function(e,t,n,r){var o=this;o.primitiveCount=r,o.initialize=function(){},o.render=function(){for(name in t.use(),n){var i=n[name].buffer,a=n[name].size;try{var s=t.attribs[name].location}catch(e){throw console.log("Could not find location for",name),e}i.bind(),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,a,e.FLOAT,!1,0,0)}for(name in e.drawArrays(e.TRIANGLES,0,3*r),o.buffers)e.disableVertexAttribArray(t.attributes[name].location)},o.initialize()},e.exports.InstancedRenderable=function(e,t,n,r,o){var i=this;i.initialize=function(){},i.render=function(){for(name in t.use(),n){var a=n[name].buffer,s=n[name].size;try{var u=t.attribs[name].location}catch(e){throw console.log("Could not find location for",name),e}a.bind(),e.enableVertexAttribArray(u),e.vertexAttribPointer(u,s,e.FLOAT,!1,0,0),o.vertexAttribDivisorANGLE(u,n[name].divisor)}for(name in o.drawArraysInstancedANGLE(e.TRIANGLES,0,36,r),i.buffers)e.disableVertexAttribArray(t.attributes[name].location)},i.initialize()},e.exports.Program=function(e,t,n){var r=this;r.initialize=function(){r.program=r.compileProgram(t,n),r.attribs=r.gatherAttribs(),r.uniforms=r.gatherUniforms()},r.use=function(){e.useProgram(r.program)},r.compileProgram=function(t,n){var o=r.compileShader(t,e.VERTEX_SHADER),i=r.compileShader(n,e.FRAGMENT_SHADER),a=e.createProgram();if(e.attachShader(a,o),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(a)),"Failed to compile program.";return a},r.compileShader=function(t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(r),i=parseInt(o.split(":")[2]),a=t.split("\n");for(var s in a){var u=parseInt(s);console.log(u+"  "+a[s]),s==i-1&&console.warn(o)}throw typeString=n==e.VERTEX_SHADER?"vertex":"fragment","Failed to compile "+typeString+" shader."}return r},r.setUniform=function(t,n,o){var i=Array.prototype.slice.call(arguments,2);r.use();try{var a=r.uniforms[t].location}catch(e){throw console.log(t),e}e["uniform"+n].apply(e,[a].concat(i))},r.gatherUniforms=function(){for(var t={},n=e.getProgramParameter(r.program,e.ACTIVE_UNIFORMS),o=0;o<n;o++){var i=e.getActiveUniform(r.program,o);t[i.name]={name:i.name,location:e.getUniformLocation(r.program,i.name),type:i.type,size:i.size}}return t},r.gatherAttribs=function(){for(var t={},n=e.getProgramParameter(r.program,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var i=e.getActiveAttrib(r.program,o);t[i.name]={name:i.name,location:e.getAttribLocation(r.program,i.name),type:i.type,size:i.size}}return t},r.initialize()}},function(e,t){var n=-1;e.exports={position:[n,n,n,n,n,1,n,1,1,n,n,n,n,1,1,n,1,n,1,n,1,1,n,n,1,1,n,1,n,1,1,1,n,1,1,1,n,n,n,1,n,n,1,n,1,n,n,n,1,n,1,n,n,1,n,1,1,1,1,1,1,1,n,n,1,1,1,1,n,n,1,n,1,n,n,n,n,n,n,1,n,1,n,n,n,1,n,1,1,n,n,n,1,1,n,1,1,1,1,n,n,1,1,1,1,n,1,1],normal:[n,0,0,n,0,0,n,0,0,n,0,0,n,0,0,n,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,n,0,0,n,0,0,n,0,0,n,0,0,n,0,0,n,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,n,0,0,n,0,0,n,0,0,n,0,0,n,0,0,n,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]}},function(e,t,n){"use strict";var r={accumulator:"#version 100\nprecision highp float;\n\nattribute vec3 aPosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 1);\n}\n\n\n// __split__\n\n\n#version 100\nprecision highp float;\n\nuniform sampler2D uSceneDepth;\nuniform sampler2D uSceneNormal;\nuniform sampler2D uRandRotDepth;\nuniform sampler2D uAccumulator;\nuniform mat4 uRot;\nuniform mat4 uInvRot;\nuniform vec2 uSceneBottomLeft;\nuniform vec2 uSceneTopRight;\nuniform vec2 uRotBottomLeft;\nuniform vec2 uRotTopRight;\nuniform float uDepth;\nuniform float uRes;\nuniform int uSampleCount;\n\nvoid main() {\n\n    float dScene = texture2D(uSceneDepth, gl_FragCoord.xy/uRes).r;\n\n    vec3 r = vec3(uSceneBottomLeft + (gl_FragCoord.xy/uRes) * (uSceneTopRight - uSceneBottomLeft), 0.0);\n\n    r.z = -(dScene - 0.5) * uDepth;\n    r = vec3(uRot * vec4(r, 1));\n    float depth = -r.z/uDepth + 0.5;\n\n    vec2 p = (r.xy - uRotBottomLeft)/(uRotTopRight - uRotBottomLeft);\n\n    float dRandRot = texture2D(uRandRotDepth, p).r;\n\n    float ao = step(dRandRot, depth * 0.99);\n\n    vec3 normal = texture2D(uSceneNormal, gl_FragCoord.xy/uRes).rgb * 2.0 - 1.0;\n    vec3 dir = vec3(uInvRot * vec4(0, 0, 1, 0));\n    float mag = dot(dir, normal);\n    float sampled = step(0.0, mag);\n\n    ao *= sampled;\n\n    vec4 acc = texture2D(uAccumulator, gl_FragCoord.xy/uRes);\n\n    if (uSampleCount < 256) {\n        acc.r += ao/255.0;\n    } else if (uSampleCount < 512) {\n        acc.g += ao/255.0;\n    } else if (uSampleCount < 768) {\n        acc.b += ao/255.0;\n    } else {\n        acc.a += ao/255.0;\n    }\n        \n    gl_FragColor = acc;\n\n}\n",ao:"#version 100\nprecision highp float;\n\nattribute vec3 aPosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 1);\n}\n\n\n// __split__\n\n\n#version 100\nprecision highp float;\n\nuniform sampler2D uSceneColor;\nuniform sampler2D uSceneDepth;\nuniform sampler2D uAccumulatorOut;\nuniform float uRes;\nuniform float uAO;\nuniform float uBrightness;\nuniform float uOutlineStrength;\n\nvoid main() {\n    vec2 p = gl_FragCoord.xy/uRes;\n    vec4 sceneColor = texture2D(uSceneColor, p);\n    if (uOutlineStrength > 0.0) {\n        float depth = texture2D(uSceneDepth, p).r;\n        float r = 1.0/511.0;\n        float d0 = abs(texture2D(uSceneDepth, p + vec2(-r,  0)).r - depth);\n        float d1 = abs(texture2D(uSceneDepth, p + vec2( r,  0)).r - depth);\n        float d2 = abs(texture2D(uSceneDepth, p + vec2( 0, -r)).r - depth);\n        float d3 = abs(texture2D(uSceneDepth, p + vec2( 0,  r)).r - depth);\n        float d = max(d0, d1);\n        d = max(d, d2);\n        d = max(d, d3);\n        sceneColor.rgb *= pow(1.0 - d, uOutlineStrength * 32.0);\n        sceneColor.a = max(step(0.003, d), sceneColor.a);\n    }\n    vec4 dAccum = texture2D(uAccumulatorOut, p);\n    float shade = max(0.0, 1.0 - (dAccum.r + dAccum.g + dAccum.b + dAccum.a) * 0.25 * uAO);\n    shade = pow(shade, 2.0);\n    gl_FragColor = vec4(uBrightness * sceneColor.rgb * shade, sceneColor.a);\n}\n",atom:"#version 100\nprecision highp float;\n\nattribute vec3 aImposter;\nattribute vec3 aPosition;\nattribute float aRadius;\nattribute vec3 aColor;\n\nuniform mat4 uView;\nuniform mat4 uProjection;\nuniform mat4 uModel;\nuniform float uAtomScale;\nuniform float uRelativeAtomScale;\nuniform float uAtomShade;\n\nvarying vec3 vColor;\nvarying vec3 vPosition;\nvarying float vRadius;\n\nvoid main() {\n    vRadius = uAtomScale * (1.0 + (aRadius - 1.0) * uRelativeAtomScale);\n    gl_Position = uProjection * uView * uModel * vec4(vRadius * aImposter + aPosition, 1.0);\n    vColor = mix(aColor, vec3(1,1,1), uAtomShade);\n    vPosition = vec3(uModel * vec4(aPosition, 1));\n}\n\n\n// __split__\n\n\n#version 100\n#extension GL_EXT_frag_depth: enable\nprecision highp float;\n\nuniform vec2 uBottomLeft;\nuniform vec2 uTopRight;\nuniform float uRes;\nuniform float uDepth;\nuniform int uMode;\n\nvarying vec3 vPosition;\nvarying float vRadius;\nvarying vec3 vColor;\n\nvec2 res = vec2(uRes, uRes);\n\nfloat raySphereIntersect(vec3 r0, vec3 rd) {\n    float a = dot(rd, rd);\n    vec3 s0_r0 = r0 - vPosition;\n    float b = 2.0 * dot(rd, s0_r0);\n    float c = dot(s0_r0, s0_r0) - (vRadius * vRadius);\n    float disc = b*b - 4.0*a*c;\n    if (disc <= 0.0) {\n        return -1.0;\n    }\n    return (-b - sqrt(disc))/(2.0*a);\n}\n\nvoid main() {\n    vec3 r0 = vec3(uBottomLeft + (gl_FragCoord.xy/res) * (uTopRight - uBottomLeft), 0.0);\n    vec3 rd = vec3(0, 0, -1);\n    float t = raySphereIntersect(r0, rd);\n    if (t < 0.0) {\n        discard;\n    }\n    vec3 coord = r0 + rd * t;\n    vec3 normal = normalize(coord - vPosition);\n    if (uMode == 0) {\n        gl_FragColor = vec4(vColor, 1);\n    } else if (uMode == 1) {\n        gl_FragColor = vec4(normal * 0.5 + 0.5, 1.0);\n    }\n    gl_FragDepthEXT = -coord.z/uDepth;\n}\n",blur:"#version 100\nprecision highp float;\n\nattribute vec3 aPosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 1);\n}\n\n\n// __split__\n\n\n#version 100\nprecision highp float;\n\nuniform sampler2D uTexture;\nuniform float uRes;\nuniform int leftRight;\n\nvoid main() {\n    vec2 dir;\n    if (leftRight == 1) {\n        dir = vec2(1,0)/uRes;\n    } else {\n        dir = vec2(0,1)/uRes;\n    }\n    const int range = 16;\n    vec4 sample = vec4(0,0,0,0);\n    for (int i = -range; i <= range; i++) {\n        vec2 p = gl_FragCoord.xy/uRes + dir * float(i);\n        sample += texture2D(uTexture, p);\n    }\n    sample /= float(range) * 2.0 + 1.0;\n    gl_FragColor = sample;\n}\n",bond:"#version 100\nprecision highp float;\n\nattribute vec3 aImposter;\nattribute vec3 aPosA;\nattribute vec3 aPosB;\nattribute float aRadA;\nattribute float aRadB;\nattribute vec3 aColA;\nattribute vec3 aColB;\n\nuniform mat4 uView;\nuniform mat4 uProjection;\nuniform mat4 uModel;\nuniform mat4 uRotation;\nuniform float uBondRadius;\nuniform float uAtomScale;\nuniform float uRelativeAtomScale;\n\nvarying vec3 vNormal;\nvarying vec3 vPosA, vPosB;\nvarying float vRadA, vRadB;\nvarying vec3 vColA, vColB;\nvarying float vRadius;\n\nmat3 alignVector(vec3 a, vec3 b) {\n    vec3 v = cross(a, b);\n    float s = length(v);\n    float c = dot(a, b);\n    mat3 I = mat3(\n        1, 0, 0,\n        0, 1, 0,\n        0, 0, 1\n    );\n    mat3 vx = mat3(\n        0, v.z, -v.y,\n        -v.z, 0, v.x,\n        v.y, -v.x, 0\n    );\n    return I + vx + vx * vx * ((1.0 - c) / (s * s));\n}\n\nvoid main() {\n    vRadius = uBondRadius;\n    vec3 pos = vec3(aImposter);\n    // Scale the box in x and z to be bond-radius.\n    pos = pos * vec3(vRadius, 1, vRadius);\n    // Shift the origin-centered cube so that the bottom is at the origin.\n    pos = pos + vec3(0, 1, 0);\n    // Stretch the box in y so that it is the length of the bond.\n    pos = pos * vec3(1, length(aPosA - aPosB) * 0.5, 1);\n    // Find the rotation that aligns vec3(0, 1, 0) with vec3(uPosB - uPosA) and apply it.\n    vec3 a = normalize(vec3(-0.000001, 1.000001, 0.000001));\n    vec3 b = normalize(aPosB - aPosA);\n    mat3 R = alignVector(a, b);\n    pos = R * pos;\n    // Shift the cube so that the bottom is centered at the middle of atom A.\n    pos = pos + aPosA;\n\n    vec4 position = uModel * vec4(pos, 1);\n    gl_Position = uProjection * uView * position;\n    vPosA = aPosA;\n    vPosB = aPosB;\n    vRadA = uAtomScale * (1.0 + (aRadA - 1.0) * uRelativeAtomScale);\n    vRadB = uAtomScale * (1.0 + (aRadB - 1.0) * uRelativeAtomScale);\n    vColA = aColA;\n    vColB = aColB;\n}\n\n\n// __split__\n\n\n#version 100\n#extension GL_EXT_frag_depth: enable\nprecision highp float;\n\nuniform mat4 uRotation;\nuniform vec2 uBottomLeft;\nuniform vec2 uTopRight;\nuniform float uDepth;\nuniform float uRes;\nuniform float uBondShade;\nuniform int uMode;\n\nvarying vec3 vPosA, vPosB;\nvarying float vRadA, vRadB;\nvarying vec3 vColA, vColB;\nvarying float vRadius;\n\nmat3 alignVector(vec3 a, vec3 b) {\n    vec3 v = cross(a, b);\n    float s = length(v);\n    float c = dot(a, b);\n    mat3 I = mat3(\n        1, 0, 0,\n        0, 1, 0,\n        0, 0, 1\n    );\n    mat3 vx = mat3(\n        0, v.z, -v.y,\n        -v.z, 0, v.x,\n        v.y, -v.x, 0\n    );\n    return I + vx + vx * vx * ((1.0 - c) / (s * s));\n}\n\nvoid main() {\n\n    vec2 res = vec2(uRes, uRes);\n    vec3 r0 = vec3(uBottomLeft + (gl_FragCoord.xy/res) * (uTopRight - uBottomLeft), uDepth/2.0);\n    vec3 rd = vec3(0, 0, -1);\n\n    vec3 i = normalize(vPosB - vPosA);\n         i = vec3(uRotation * vec4(i, 0));\n    vec3 j = normalize(vec3(-0.000001, 1.000001, 0.000001));\n    mat3 R = alignVector(i, j);\n\n    vec3 r0p = r0 - vec3(uRotation * vec4(vPosA, 0));\n    r0p = R * r0p;\n    vec3 rdp = R * rd;\n\n    float a = dot(rdp.xz, rdp.xz);\n    float b = 2.0 * dot(rdp.xz, r0p.xz);\n    float c = dot(r0p.xz, r0p.xz) - vRadius*vRadius;\n    float disc = b*b - 4.0*a*c;\n    if (disc <= 0.0) {\n        discard;\n    }\n    float t = (-b - sqrt(disc))/(2.0*a);\n    if (t < 0.0) {\n        discard;\n    }\n\n    vec3 coord = r0p + rdp * t;\n    if (coord.y < 0.0 || coord.y > length(vPosA - vPosB)) {\n        discard;\n    }\n\n    vec3 color;\n    if (coord.y < vRadA + 0.5 * (length(vPosA - vPosB) - (vRadA + vRadB))) {\n        color = vColA;\n    } else {\n        color = vColB;\n    }\n\n    color = mix(color, vec3(1,1,1), uBondShade);\n\n    R = alignVector(j, i);\n    vec3 normal = normalize(R * vec3(coord.x, 0, coord.z));\n\n    coord = r0 + rd * t;\n    if (uMode == 0) {\n        gl_FragColor = vec4(color, 1);\n    } else if (uMode == 1) {\n        gl_FragColor = vec4(normal * 0.5 + 0.5, 1.0);\n    }\n    gl_FragDepthEXT = -(coord.z - uDepth/2.0)/uDepth;\n}\n",dof:"#version 100\nprecision highp float;\n\nattribute vec3 aPosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 1);\n}\n\n\n// __split__\n\n\n#version 100\nprecision highp float;\n\nuniform sampler2D uColor;\nuniform sampler2D uDepth;\nuniform float uRes;\nuniform float uDOFPosition;\nuniform float uDOFStrength;\nuniform int leftRight;\n\nvoid main() {\n\n    vec2 samples[64];\n    samples[0] = vec2(0.857612, 0.019885);\n    samples[1] = vec2(0.563809, -0.028071);\n    samples[2] = vec2(0.825599, -0.346856);\n    samples[3] = vec2(0.126584, -0.380959);\n    samples[4] = vec2(0.782948, 0.594322);\n    samples[5] = vec2(0.292148, -0.543265);\n    samples[6] = vec2(0.130700, 0.330220);\n    samples[7] = vec2(0.236088, 0.159604);\n    samples[8] = vec2(-0.305259, 0.810505);\n    samples[9] = vec2(0.269616, 0.923026);\n    samples[10] = vec2(0.484486, 0.371845);\n    samples[11] = vec2(-0.638057, 0.080447);\n    samples[12] = vec2(0.199629, 0.667280);\n    samples[13] = vec2(-0.861043, -0.370583);\n    samples[14] = vec2(-0.040652, -0.996174);\n    samples[15] = vec2(0.330458, -0.282111);\n    samples[16] = vec2(0.647795, -0.214354);\n    samples[17] = vec2(0.030422, -0.189908);\n    samples[18] = vec2(0.177430, -0.721124);\n    samples[19] = vec2(-0.461163, -0.327434);\n    samples[20] = vec2(-0.410012, -0.734504);\n    samples[21] = vec2(-0.616334, -0.626069);\n    samples[22] = vec2(0.590759, -0.726479);\n    samples[23] = vec2(-0.590794, 0.805365);\n    samples[24] = vec2(-0.924561, -0.163739);\n    samples[25] = vec2(-0.323028, 0.526960);\n    samples[26] = vec2(0.642128, 0.752577);\n    samples[27] = vec2(0.173625, -0.952386);\n    samples[28] = vec2(0.759014, 0.330311);\n    samples[29] = vec2(-0.360526, -0.032013);\n    samples[30] = vec2(-0.035320, 0.968156);\n    samples[31] = vec2(0.585478, -0.431068);\n    samples[32] = vec2(-0.244766, -0.906947);\n    samples[33] = vec2(-0.853096, 0.184615);\n    samples[34] = vec2(-0.089061, 0.104648);\n    samples[35] = vec2(-0.437613, 0.285308);\n    samples[36] = vec2(-0.654098, 0.379841);\n    samples[37] = vec2(-0.128663, 0.456572);\n    samples[38] = vec2(0.015980, -0.568170);\n    samples[39] = vec2(-0.043966, -0.771940);\n    samples[40] = vec2(0.346512, -0.071238);\n    samples[41] = vec2(-0.207921, -0.209121);\n    samples[42] = vec2(-0.624075, -0.189224);\n    samples[43] = vec2(-0.120618, 0.689339);\n    samples[44] = vec2(-0.664679, -0.410200);\n    samples[45] = vec2(0.371945, -0.880573);\n    samples[46] = vec2(-0.743251, 0.629998);\n    samples[47] = vec2(-0.191926, -0.413946);\n    samples[48] = vec2(0.449574, 0.833373);\n    samples[49] = vec2(0.299587, 0.449113);\n    samples[50] = vec2(-0.900432, 0.399319);\n    samples[51] = vec2(0.762613, -0.544796);\n    samples[52] = vec2(0.606462, 0.174233);\n    samples[53] = vec2(0.962185, -0.167019);\n    samples[54] = vec2(0.960990, 0.249552);\n    samples[55] = vec2(0.570397, 0.559146);\n    samples[56] = vec2(-0.537514, 0.555019);\n    samples[57] = vec2(0.108491, -0.003232);\n    samples[58] = vec2(-0.237693, -0.615428);\n    samples[59] = vec2(-0.217313, 0.261084);\n    samples[60] = vec2(-0.998966, 0.025692);\n    samples[61] = vec2(-0.418554, -0.527508);\n    samples[62] = vec2(-0.822629, -0.567797);\n    samples[63] = vec2(0.061945, 0.522105);\n\n    float invRes = 1.0/uRes;\n    vec2 coord = gl_FragCoord.xy * invRes;\n\n    float strength = uDOFStrength * uRes/768.0;\n\n    float depth = texture2D(uDepth, coord).r;\n    float range = uDOFPosition - depth;\n    float scale = abs(range);\n\n    vec4 sample = texture2D(uColor, coord);\n    float count = 1.0;\n    for(int i = 0; i < 64; i++) {\n        vec2 p = samples[i];\n        p = coord + scale * 64.0 * strength * p * invRes;\n        float d = texture2D(uDepth, p).r;\n        float r = uDOFPosition - d;\n        float s = abs(r);\n        sample += texture2D(uColor, p) * s;\n        count += s;\n    }\n\n    gl_FragColor = sample/count;\n}",fxaa:"#version 100\nprecision highp float;\n\nattribute vec3 aPosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 1);\n}\n\n\n// __split__\n\n\n#version 100\nprecision highp float;\n\nuniform sampler2D uTexture;\nuniform float uRes;\n\nvoid main() {\n    float FXAA_SPAN_MAX = 8.0;\n    float FXAA_REDUCE_MUL = 1.0/8.0;\n    float FXAA_REDUCE_MIN = 1.0/128.0;\n\n    vec2 texCoords = gl_FragCoord.xy/uRes;\n\n    vec4 rgbNW = texture2D(uTexture, texCoords + (vec2(-1.0, -1.0) / uRes));\n    vec4 rgbNE = texture2D(uTexture, texCoords + (vec2(1.0, -1.0) / uRes));\n    vec4 rgbSW = texture2D(uTexture, texCoords + (vec2(-1.0, 1.0) / uRes));\n    vec4 rgbSE = texture2D(uTexture, texCoords + (vec2(1.0, 1.0) / uRes));\n    vec4 rgbM  = texture2D(uTexture, texCoords);\n\n    vec4 luma = vec4(0.299, 0.587, 0.114, 1.0);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) * (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0/(min(abs(dir.x), abs(dir.y)) + dirReduce);\n\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX), max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX), dir * rcpDirMin)) / uRes;\n\n    vec4 rgbA = (1.0/2.0) * \n        (texture2D(uTexture, texCoords.xy + dir * (1.0/3.0 - 0.5)) + \n         texture2D(uTexture, texCoords.xy + dir * (2.0/3.0 - 0.5)));\n    vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * \n        (texture2D(uTexture, texCoords.xy + dir * (0.0/3.0 - 0.5)) +\n         texture2D(uTexture, texCoords.xy + dir * (3.0/3.0 - 0.5)));\n    float lumaB = dot(rgbB, luma);\n\n    if((lumaB < lumaMin) || (lumaB > lumaMax)){\n        gl_FragColor = rgbA;\n    } else {\n        gl_FragColor = rgbB;\n    }\n\n}","textured-quad":"#version 100\nprecision highp float;\n\nattribute vec3 aPosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 1);\n}\n\n\n// __split__\n\n\n#version 100\nprecision highp float;\n\nuniform sampler2D uTexture;\nuniform float uRes;\n\nvoid main() {\n    gl_FragColor = texture2D(uTexture, gl_FragCoord.xy/uRes);\n}\n"};e.exports={shaders:r}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){if(arguments.length>1)throw"Error: The Speck Interactions module has changed!";if(0===arguments.length||"object"!=typeof e)throw"Error: Arguments not provided to interactions";var t=void 0===e.scrollZoom||e.scrollZoom,n=e.container,o=e.getRotation,i=e.setRotation,a=e.getTranslation,s=e.setTranslation,u=e.getZoom,l=e.setZoom,c=e.refreshView,f={buttonDown:!1,shiftDown:!1,lastX:0,lastY:0};function d(e){0===e.button&&(f={buttonDown:!0,shiftDown:f.shiftDown,lastX:e.clientX,lastY:e.clientY})}function m(e){if(0===e.button){if(!f.buttonDown)return;f.buttonDown=!1}}function p(e){f.shiftDown=e.shiftKey}function h(e){if(f.buttonDown&&0!==e.buttons){e.preventDefault();var t=e.clientX-f.lastX,n=e.clientY-f.lastY;if(0!==t||0!==n){if(f.lastX=e.clientX,f.lastY=e.clientY,f.shiftDown){var l=a(),d=.001/u();s({x:l.x-t*d,y:l.y+n*d})}else{var m={rotation:new Float32Array(o())};r.rotate(m,t,n),i(m.rotation)}c()}}}function v(e){e.preventDefault(),l(u()*(e.deltaY<0?1/.9:.9)),c()}return n.addEventListener("mousedown",d),window.addEventListener("mouseup",m),window.addEventListener("keydown",p),window.addEventListener("keyup",p),window.addEventListener("mousemove",h),t&&n.addEventListener("wheel",v),function(){n.removeEventListener("mousedown",d),window.removeEventListener("mouseup",m),window.removeEventListener("keydown",p),window.removeEventListener("keyup",p),window.removeEventListener("mousemove",h),n.removeEventListener("wheel",v)}}},function(e,t,n){"use strict";var r=n(13),o=n(14),i=n(15),a=n(4),s=n(1),u=n(3),l=n(16),c=n(17),f=(n(0),n(6)),d=n(18);window.onerror=function(e,t,n){document.getElementById("error").style.display="block",document.getElementById("error-text").innerHTML="Sorry, an error has occurred:<br><br>Line #"+n+": "+e},r.active=function(e){for(var t=r.activeKeys(),n=0;n<t.length;n++)if(e===t[n])return!0;return!1};var m,p=u.new(),h=s.new(),v=null,g=!1;function y(e){p=u.new();for(var t=0;t<e.length;t++){var n=e[t],r=n.position[0],o=n.position[1],i=n.position[2];u.addAtom(p,n.symbol,r,o,i)}u.center(p),u.calculateBonds(p),v.setSystem(p,h),s.center(h,p),g=!0}function b(){var e=document.getElementById("controls-sample");i.ajax({url:"static/samples/"+e.value,success:function(e){y(l(e)[0])}})}window.onload=function(){m=document.getElementById("render-container");var e=document.getElementById("renderer-canvas");v=new a(e,h.resolution,h.aoRes);for(var t=document.getElementById("controls-sample"),n=0;n<c.length;n++){var u=c[n],x=document.createElement("option");x.value=u.file,x.innerHTML=u.name,0===n&&(x.selected="selected"),t.appendChild(x)}if(t.addEventListener("change",b),""!==location.hash){var w=location.hash.slice(1,location.hash.length),E=o.decompressFromEncodedURIComponent(w);E=JSON.parse(E),p=E.system,h=E.view,v.setSystem(p,h),v.setResolution(h.resolution,h.aoRes),g=!0}else b();var A=0,T=0,S=!1;m.addEventListener("mousedown",function(e){document.body.style.cursor="none",0==e.button&&(S=!0),A=e.clientX,T=e.clientY}),window.addEventListener("mouseup",function(e){document.body.style.cursor="",0==e.button&&(S=!1)}),setInterval(function(){S||(document.body.style.cursor="")},10),window.addEventListener("mousemove",function(e){if(S){var t=e.clientX-A,n=e.clientY-T;0==t&&0==n||(A=e.clientX,T=e.clientY,e.shiftKey?s.translate(h,t,n):s.rotate(h,t,n),g=!0)}}),m.addEventListener("wheel",function(e){var t=0;if(t=e.deltaY<0?1:-1,r.active("a"))h.atomScale+=t/100,s.resolve(h),document.getElementById("atom-radius").value=Math.round(100*h.atomScale),g=!0;else if(r.active("z")){h.relativeAtomScale;t/100,h.relativeAtomScale+=t/100,s.resolve(h),document.getElementById("relative-atom-radius").value=Math.round(100*h.relativeAtomScale),g=!0}else r.active("d")?(h.dofStrength+=t/100,s.resolve(h),document.getElementById("dof-strength").value=Math.round(100*h.dofStrength)):r.active("p")?(h.dofPosition+=t/100,s.resolve(h),document.getElementById("dof-position").value=Math.round(100*h.dofPosition)):r.active("b")?(h.bondScale+=t/100,s.resolve(h),document.getElementById("bond-radius").value=Math.round(100*h.bondScale),g=!0):r.active("s")?(h.bondShade+=t/100,s.resolve(h),document.getElementById("bond-shade").value=Math.round(100*h.bondShade),g=!0):r.active("w")?(h.atomShade+=t/100,s.resolve(h),document.getElementById("atom-shade").value=Math.round(100*h.atomShade),g=!0):r.active("o")?(h.ao+=t/100,s.resolve(h),document.getElementById("ambient-occlusion").value=Math.round(100*h.ao)):r.active("l")?(h.brightness+=t/100,s.resolve(h),document.getElementById("brightness").value=Math.round(100*h.brightness)):r.active("q")?(h.outline+=t/100,s.resolve(h),document.getElementById("outline-strength").value=Math.round(100*h.outline)):(h.zoom=h.zoom*(1===t?1/.9:.9),s.resolve(h),g=!0);e.preventDefault()});var C="#bbb",M="#3bf";function R(e){document.getElementById("controls-structure").style.display="none",document.getElementById("controls-render").style.display="none",document.getElementById("controls-share").style.display="none",document.getElementById("controls-help").style.display="none",document.getElementById("controls-about").style.display="none",document.getElementById("menu-button-structure").style.background=C,document.getElementById("menu-button-render").style.background=C,document.getElementById("menu-button-share").style.background=C,document.getElementById("menu-button-help").style.background=C,document.getElementById("menu-button-about").style.background=C,document.getElementById("controls-"+e).style.display="block",document.getElementById("menu-button-"+e).style.background=M}function B(){var e=document.getElementById("controls-menu"),t=document.getElementById("controls-container"),n=(window.innerWidth,window.innerHeight),r=Math.round(1*n),o=Math.round((n-r)/2);m.style.height=r-64+"px",m.style.width=r-64+"px",m.style.left=o+32+"px",m.style.top=o+32+"px",e.style.left=r+"px",e.style.top="32px",t.style.top=32+i(e).innerHeight()+32+"px",t.style.left=e.style.left,t.style.bottom="32px"}document.getElementById("menu-button-structure").addEventListener("click",function(){R("structure")}),document.getElementById("menu-button-render").addEventListener("click",function(){R("render")}),document.getElementById("menu-button-share").addEventListener("click",function(){R("share")}),document.getElementById("menu-button-help").addEventListener("click",function(){R("help")}),document.getElementById("menu-button-about").addEventListener("click",function(){R("about")}),R("render"),B(),window.addEventListener("resize",B),document.getElementById("close-error").addEventListener("click",function(){document.getElementById("error").style.display="none"}),document.getElementById("xyz-button").addEventListener("click",function(){y(l(document.getElementById("xyz-data").value)[0])}),document.getElementById("atom-radius").addEventListener("input",function(e){var t=parseInt(document.getElementById("atom-radius").value);h.atomScale=t/100,s.resolve(h),g=!0}),document.getElementById("relative-atom-radius").addEventListener("input",function(e){var t=parseInt(document.getElementById("relative-atom-radius").value);h.relativeAtomScale=t/100,s.resolve(h),g=!0}),document.getElementById("dof-strength").addEventListener("input",function(e){var t=parseInt(document.getElementById("dof-strength").value);h.dofStrength=t/100,s.resolve(h)}),document.getElementById("dof-position").addEventListener("input",function(e){var t=parseInt(document.getElementById("dof-position").value);h.dofPosition=t/100,s.resolve(h)}),document.getElementById("bond-radius").addEventListener("input",function(e){var t=parseInt(document.getElementById("bond-radius").value);h.bondScale=t/100,s.resolve(h),g=!0}),document.getElementById("bond-shade").addEventListener("input",function(e){var t=parseInt(document.getElementById("bond-shade").value);h.bondShade=t/100,s.resolve(h),g=!0}),document.getElementById("atom-shade").addEventListener("input",function(e){var t=parseInt(document.getElementById("atom-shade").value);h.atomShade=t/100,s.resolve(h),g=!0}),document.getElementById("ambient-occlusion").addEventListener("input",function(e){var t=parseInt(document.getElementById("ambient-occlusion").value);h.ao=t/100,s.resolve(h)}),document.getElementById("brightness").addEventListener("input",function(e){var t=parseInt(document.getElementById("brightness").value);h.brightness=t/100,s.resolve(h)}),document.getElementById("ao-resolution").addEventListener("change",function(e){var t=parseInt(document.getElementById("ao-resolution").value);h.aoRes=t,s.resolve(h),v.setResolution(h.resolution,h.aoRes),g=!0}),document.getElementById("outline-strength").addEventListener("input",function(e){var t=parseInt(document.getElementById("outline-strength").value);h.outline=t/100,s.resolve(h)}),document.getElementById("samples-per-frame").addEventListener("change",function(e){var t=parseInt(document.getElementById("samples-per-frame").value);h.spf=t}),document.getElementById("resolution").addEventListener("change",function(e){var t=parseInt(document.getElementById("resolution").value);h.resolution=t,s.resolve(h),v.setResolution(t,h.aoRes),g=!0}),document.getElementById("view-preset").addEventListener("change",function(e){var t=document.getElementById("view-preset").value;s.override(h,f[t]),I(),v.setSystem(p,h),g=!0}),document.getElementById("bonds").addEventListener("click",function(e){h.bonds=document.getElementById("bonds").checked,s.resolve(h),v.setSystem(p,h),g=!0}),document.getElementById("bond-threshold").addEventListener("change",function(e){h.bondThreshold=parseFloat(document.getElementById("bond-threshold").value),s.resolve(h),v.setSystem(p,h),g=!0}),document.getElementById("fxaa").addEventListener("change",function(e){h.fxaa=parseInt(document.getElementById("fxaa").value),s.resolve(h)}),document.getElementById("share-url-button").addEventListener("click",function(e){var t={view:h,system:p};t=o.compressToEncodedURIComponent(JSON.stringify(t)),document.getElementById("share-url").value=location.href.split("#")[0]+"#"+t}),document.getElementById("center-button").addEventListener("click",function(e){s.center(h,p),g=!0}),document.getElementById("share-url").addEventListener("click",function(e){this.select()});for(t=document.getElementById("download-image-format-selector"),n=0;n<d.length;n++){var k=d[n],D=document.createElement("option");D.value=k,D.innerHTML=k.toUpperCase(),t.appendChild(D)}function I(){document.getElementById("atom-radius").value=Math.round(100*h.atomScale),document.getElementById("relative-atom-radius").value=Math.round(100*h.relativeAtomScale),document.getElementById("bond-radius").value=Math.round(100*h.bondScale),document.getElementById("bond-shade").value=Math.round(100*h.bondShade),document.getElementById("atom-shade").value=Math.round(100*h.atomShade),document.getElementById("bond-threshold").value=h.bondThreshold,document.getElementById("ambient-occlusion").value=Math.round(100*h.ao),document.getElementById("brightness").value=Math.round(100*h.brightness),document.getElementById("ao-resolution").value=h.aoRes,document.getElementById("samples-per-frame").value=h.spf,document.getElementById("outline-strength").value=Math.round(100*h.outline),document.getElementById("bonds").checked=h.bonds,document.getElementById("fxaa").value=h.fxaa,document.getElementById("resolution").value=h.resolution,document.getElementById("dof-strength").value=Math.round(100*h.dofStrength),document.getElementById("dof-position").value=Math.round(100*h.dofPosition)}document.getElementById("download-image-button").addEventListener("click",function(e){var t=document.getElementById("download-image-format-selector"),n="image/"+t.value,r="render."+t.value;v.render(h);var o=document.getElementById("renderer-canvas").toDataURL(n);document.getElementById("download-image-button").download=r,document.getElementById("download-image-button").href=o}),I(),function e(){document.getElementById("atom-radius-text").innerHTML=Math.round(100*h.atomScale)+"%",document.getElementById("relative-atom-radius-text").innerHTML=Math.round(100*h.relativeAtomScale)+"%",document.getElementById("bond-radius-text").innerHTML=Math.round(100*h.bondScale)+"%",document.getElementById("bond-shade-text").innerHTML=Math.round(100*h.bondShade)+"%",document.getElementById("atom-shade-text").innerHTML=Math.round(100*h.atomShade)+"%",document.getElementById("ambient-occlusion-text").innerHTML=Math.round(100*h.ao)+"%",document.getElementById("brightness-text").innerHTML=Math.round(100*h.brightness)+"%",document.getElementById("outline-strength-text").innerHTML=Math.round(100*h.outline)+"%",document.getElementById("dof-strength-text").innerHTML=Math.round(100*h.dofStrength)+"%",document.getElementById("dof-position-text").innerHTML=Math.round(100*h.dofPosition)+"%",document.getElementById("ao-indicator").style.width=Math.min(100,100*v.getAOProgress())+"%",g&&(v.reset(),g=!1),v.render(h),requestAnimationFrame(e)}()}},function(e,t,n){var r,o;!function(i,a){[].indexOf||(Array.prototype.indexOf=function(e,t,n){for(t=((n=this.length)+~~t)%n;t<n&&(!(t in this)||this[t]!==e);t++);return t^n?t:-1}),void 0===(o="function"==typeof(r=function(){return function e(t){var n;n=a(t,"amd");n.fork=e;return n}(i)})?r.call(t,n,t,e):r)||(e.exports=o)}(this,function(e,t){var n,r,o,i,a,s={},u={},l=[],c=[],f=[],d=[];for(e=e||window,a={map:{3:["cancel"],8:["backspace"],9:["tab"],12:["clear"],13:["enter"],16:["shift"],17:["ctrl"],18:["alt","menu"],19:["pause","break"],20:["capslock"],27:["escape","esc"],32:["space","spacebar"],33:["pageup"],34:["pagedown"],35:["end"],36:["home"],37:["left"],38:["up"],39:["right"],40:["down"],41:["select"],42:["printscreen"],43:["execute"],44:["snapshot"],45:["insert","ins"],46:["delete","del"],47:["help"],91:["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"],92:["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"],145:["scrolllock","scroll"],186:["semicolon",";"],187:["equal","equalsign","="],188:["comma",","],189:["dash","-"],190:["period","."],191:["slash","forwardslash","/"],192:["graveaccent","`"],219:["openbracket","["],220:["backslash","\\"],221:["closebracket","]"],222:["apostrophe","'"],48:["zero","0"],49:["one","1"],50:["two","2"],51:["three","3"],52:["four","4"],53:["five","5"],54:["six","6"],55:["seven","7"],56:["eight","8"],57:["nine","9"],96:["numzero","num0"],97:["numone","num1"],98:["numtwo","num2"],99:["numthree","num3"],100:["numfour","num4"],101:["numfive","num5"],102:["numsix","num6"],103:["numseven","num7"],104:["numeight","num8"],105:["numnine","num9"],106:["nummultiply","num*"],107:["numadd","num+"],108:["numenter"],109:["numsubtract","num-"],110:["numdecimal","num."],111:["numdivide","num/"],144:["numlock","num"],112:["f1"],113:["f2"],114:["f3"],115:["f4"],116:["f5"],117:["f6"],118:["f7"],119:["f8"],120:["f9"],121:["f10"],122:["f11"],123:["f12"]},macros:[["shift + `",["tilde","~"]],["shift + 1",["exclamation","exclamationpoint","!"]],["shift + 2",["at","@"]],["shift + 3",["number","#"]],["shift + 4",["dollar","dollars","dollarsign","$"]],["shift + 5",["percent","%"]],["shift + 6",["caret","^"]],["shift + 7",["ampersand","and","&"]],["shift + 8",["asterisk","*"]],["shift + 9",["openparen","("]],["shift + 0",["closeparen",")"]],["shift + -",["underscore","_"]],["shift + =",["plus","+"]],["shift + (",["opencurlybrace","opencurlybracket","{"]],["shift + )",["closecurlybrace","closecurlybracket","}"]],["shift + \\",["verticalbar","|"]],["shift + ;",["colon",":"]],["shift + '",["quotationmark",'"']],["shift + !,",["openanglebracket","<"]],["shift + .",["closeanglebracket",">"]],["shift + /",["questionmark","?"]]]},i=65;i<=90;i+=1)a.map[i]=String.fromCharCode(i+32),a.macros.push(["shift + "+String.fromCharCode(i+32)+", capslock + "+String.fromCharCode(i+32),[String.fromCharCode(i)]]);return/^Mac/.test(navigator.platform)&&((/Chrome/.test(navigator.userAgent)||/Safari/.test(navigator.userAgent))&&(a.map[93]=a.map[92]),/Opera/.test(navigator.userAgent)&&(a.map[17]=a.map[91],delete a.map[91]),/Firefox/.test(navigator.userAgent)&&(a.map[224]=a.map[91],delete a.map[91]),delete a.map[92]),B("us",a),k("us"),m(),s.enable=m,s.disable=function(){p(),e.removeEventListener?(e.document.removeEventListener("keydown",h,!1),e.document.removeEventListener("keyup",v,!1),e.removeEventListener("blur",p,!1),e.removeEventListener("webkitfullscreenchange",p,!1),e.removeEventListener("mozfullscreenchange",p,!1)):e.detachEvent&&(e.document.detachEvent("onkeydown",h),e.document.detachEvent("onkeyup",v),e.detachEvent("onblur",p))},s.activeKeys=C,s.releaseKey=R,s.pressKey=M,s.on=function(e,t,n){var r,o,i,a={},s=[];"string"==typeof e&&(e=T(e));for(o=0;o<e.length;o+=1){if(r={},"string"!=typeof(i=S([e[o]])))throw new Error("Failed to bind key combo. The key combo must be string.");r.keyCombo=i,r.keyDownCallback=[],r.keyUpCallback=[],t&&r.keyDownCallback.push(t),n&&r.keyUpCallback.push(n),c.push(r),s.push(r)}return a.clear=function(){var e;for(e=0;e<s.length;e+=1)c.splice(c.indexOf(s[e]),1)},a.on=function(e){var t,n,r,o={};if("string"!=typeof e)throw new Error("Cannot bind callback. The event name must be a string.");if("keyup"!==e&&"keydown"!==e)throw new Error('Cannot bind callback. The event name must be a "keyup" or "keydown".');for(t=Array.prototype.slice.apply(arguments,[1]),n=0;n<t.length;n+=1)if("function"==typeof t[n])if("keyup"===e)for(r=0;r<s.length;r+=1)s[r].keyUpCallback.push(t[n]);else if("keydown"===e)for(r=0;r<s.length;r+=1)s[r].keyDownCallback.push(t[n]);return o.clear=function(){var n,r;for(n=0;n<t.length;n+=1)if("function"==typeof t[n])if("keyup"===e)for(r=0;r<s.length;r+=1)s[r].keyUpCallback.splice(s[r].keyUpCallback.indexOf(t[n]),1);else for(r=0;r<s.length;r+=1)s[r].keyDownCallback.splice(s[r].keyDownCallback.indexOf(t[n]),1)},o},a},s.clear=function(e){var t,n;for(t=0;t<c.length;t+=1)n=c[t],w(e,n.keyCombo)&&(c.splice(t,1),t-=1)},s.clear.key=function(e){var t,n,r;if(e){for(t=0;t<c.length;t+=1)for(r=c[t],n=0;n<r.keyCombo.length;n+=1)if(r.keyCombo[n].indexOf(e)>-1){c.splice(t,1),t-=1;break}}else c=[]},s.locale=k,s.locale.register=B,s.macro=function(e,t){if("string"!=typeof e&&("object"!=typeof e||"function"!=typeof e.push))throw new Error("Cannot create macro. The combo must be a string or array.");if("object"!=typeof t||"function"!=typeof t.push)throw new Error("Cannot create macro. The injectedKeys must be an array.");o.push([e,t])},s.macro.remove=function(e){var t;if("string"!=typeof e&&("object"!=typeof e||"function"!=typeof e.push))throw new Error("Cannot remove macro. The combo must be a string or array.");for(mI=0;mI<o.length;mI+=1)if(t=o[mI],w(e,t[0])){R(t[1]),o.splice(mI,1);break}},s.key={},s.key.name=g,s.key.code=y,s.combo={},s.combo.active=E,s.combo.parse=T,s.combo.stringify=S,s;function m(){e.addEventListener?(e.document.addEventListener("keydown",h,!1),e.document.addEventListener("keyup",v,!1),e.addEventListener("blur",p,!1),e.addEventListener("webkitfullscreenchange",p,!1),e.addEventListener("mozfullscreenchange",p,!1)):e.attachEvent&&(e.document.attachEvent("onkeydown",h),e.document.attachEvent("onkeyup",v),e.attachEvent("onblur",p))}function p(e){l=[],b(),x(e)}function h(e){var t,n,r;if(!((t=g(e.keyCode)).length<1)){for(e.isRepeat=!1,r=0;r<t.length;r+=1)n=t[r],-1!=C().indexOf(n)&&(e.isRepeat=!0),M(n);!function(){var e,t,n;for(e=0;e<o.length;e+=1)if(t=T(o[e][0]),-1===d.indexOf(o[e])&&E(t))for(d.push(o[e]),n=0;n<o[e][1].length;n+=1)M(o[e][1][n])}(),function(e){var t,n,r,o,i,a,s,u,d,m,p,h=[];for(i=[].concat(l),t=0;t<c.length;t+=1)p=A(c[t].keyCombo).length,h[p]||(h[p]=[]),h[p].push(c[t]);for(n=h.length-1;n>=0;n-=1)if(h[n])for(t=0;t<h[n].length;t+=1){for(r=h[n][t],o=A(r.keyCombo),d=!0,u=0;u<o.length;u+=1)if(-1===i.indexOf(o[u])){d=!1;break}if(d&&E(r.keyCombo)){for(f.push(r),u=0;u<o.length;u+=1)(m=i.indexOf(o[u]))>-1&&(i.splice(m,1),u-=1);for(a=0;a<r.keyDownCallback.length;a+=1)!1===r.keyDownCallback[a](e,C(),r.keyCombo)&&(s=!0);!0===s&&(e.preventDefault(),e.stopPropagation())}}}(e)}}function v(e){var t,n;if(!((t=g(e.keyCode)).length<1)){for(n=0;n<t.length;n+=1)R(t[n]);b(),x(e)}}function g(e){return r[e]||[]}function y(e){var t;for(t in r)if(r.hasOwnProperty(t)&&r[t].indexOf(e)>-1)return t;return!1}function b(){var e,t;for(e=0;e<d.length;e+=1)if(!1===E(T(d[e][0]))){for(t=0;t<d[e][1].length;t+=1)R(d[e][1][t]);d.splice(e,1),e-=1}}function x(e){var t,n,r,o;for(t=0;t<f.length;t+=1)if(!1===E((r=f[t]).keyCombo)){for(n=0;n<r.keyUpCallback.length;n+=1)!1===r.keyUpCallback[n](e,C(),r.keyCombo)&&(o=!0);!0===o&&(e.preventDefault(),e.stopPropagation()),f.splice(t,1),t-=1}}function w(e,t){var n,r,o;if(e=T(e),t=T(t),e.length!==t.length)return!1;for(n=0;n<e.length;n+=1){if(e[n].length!==t[n].length)return!1;for(r=0;r<e[n].length;r+=1){if(e[n][r].length!==t[n][r].length)return!1;for(o=0;o<e[n][r].length;o+=1)if(-1===t[n][r].indexOf(e[n][r][o]))return!1}}return!0}function E(e){var t,n,r,o,i,a,s=0;for(e=T(e),t=0;t<e.length;t+=1){for(a=!0,s=0,n=0;n<e[t].length;n+=1){for(r=[].concat(e[t][n]),o=s;o<l.length;o+=1)(i=r.indexOf(l[o]))>-1&&(r.splice(i,1),s=o);if(0!==r.length){a=!1;break}}if(a)return!0}return!1}function A(e){var t,n,r=[];for(e=T(e),t=0;t<e.length;t+=1)for(n=0;n<e[t].length;n+=1)r=r.concat(e[t][n]);return r}function T(e){var t=e,n=0,r=0,o=!1,i=!1,a=[],s=[],u=[],l="";if("object"==typeof e&&"function"==typeof e.push)return e;if("string"!=typeof e)throw new Error('Cannot parse "keyCombo" because its type is "'+typeof e+'". It must be a "string".');for(;" "===t.charAt(n);)n+=1;for(;;){if(" "===t.charAt(n)){for(;" "===t.charAt(n);)n+=1;o=!0}else if(","===t.charAt(n)){if(r||i)throw new Error("Failed to parse key combo. Unexpected , at character index "+n+".");i=!0,n+=1}else if("+"===t.charAt(n)){if(l.length&&(u.push(l),l=""),r||i)throw new Error("Failed to parse key combo. Unexpected + at character index "+n+".");r=!0,n+=1}else if(">"===t.charAt(n)){if(l.length&&(u.push(l),l=""),u.length&&(s.push(u),u=[]),r||i)throw new Error("Failed to parse key combo. Unexpected > at character index "+n+".");r=!0,n+=1}else if(n<t.length-1&&"!"===t.charAt(n)&&(">"===t.charAt(n+1)||","===t.charAt(n+1)||"+"===t.charAt(n+1)))l+=t.charAt(n+1),r=!1,o=!1,i=!1,n+=2;else{if(!(n<t.length&&"+"!==t.charAt(n)&&">"!==t.charAt(n)&&","!==t.charAt(n)&&" "!==t.charAt(n))){n+=1;continue}for((!1===r&&!0===o||!0===i)&&(l.length&&(u.push(l),l=""),u.length&&(s.push(u),u=[]),s.length&&(a.push(s),s=[])),r=!1,o=!1,i=!1;n<t.length&&"+"!==t.charAt(n)&&">"!==t.charAt(n)&&","!==t.charAt(n)&&" "!==t.charAt(n);)l+=t.charAt(n),n+=1}if(n>=t.length){l.length&&(u.push(l),l=""),u.length&&(s.push(u),u=[]),s.length&&(a.push(s),s=[]);break}}return a}function S(e){var t,n,r=[];if("string"==typeof e)return e;if("object"!=typeof e||"function"!=typeof e.push)throw new Error("Cannot stringify key combo.");for(t=0;t<e.length;t+=1){for(r[t]=[],n=0;n<e[t].length;n+=1)r[t][n]=e[t][n].join(" + ");r[t]=r[t].join(" > ")}return r.join(" ")}function C(){return[].concat(l)}function M(e){if(e.match(/\s/))throw new Error("Cannot add key name "+e+" to active keys because it contains whitespace.");l.indexOf(e)>-1||l.push(e)}function R(e){var t=y(e);"91"===t||"92"===t?l=[]:l.splice(l.indexOf(e),1),/^Mac/.test(navigator.platform)&&((/Chrome/.test(navigator.userAgent)||/Safari/.test(navigator.userAgent))&&("91"!==t&&"93"!==t||(l=[])),/Opera/.test(navigator.userAgent)&&"17"==t&&(l=[]),/Firefox/.test(navigator.userAgent)&&"224"==t&&(l=[]))}function B(e,t){if("string"!=typeof e)throw new Error("Cannot register new locale. The locale name must be a string.");if("object"!=typeof t)throw new Error("Cannot register "+e+" locale. The locale map must be an object.");if("object"!=typeof t.map)throw new Error("Cannot register "+e+" locale. The locale map is invalid.");t.macros||(t.macros=[]),u[e]=t}function k(e){if(e){if("string"!=typeof e)throw new Error("Cannot set locale. The locale name must be a string.");if(!u[e])throw new Error("Cannot set locale to "+e+" because it does not exist. If you would like to submit a "+e+" locale map for KeyboardJS please submit it at https://github.com/RobertWHurst/KeyboardJS/issues.");r=u[e].map,o=u[e].macros,n=e}return n}})},function(e,t,n){var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,function(n){return o(t,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":i._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach(function(t){a.push(e(t))}),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,function(t){return o(n,e.charAt(t))}))},compress:function(t){return i._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(null==e)return"";var r,o,i,a={},s={},u="",l="",c="",f=2,d=3,m=2,p=[],h=0,v=0;for(i=0;i<e.length;i+=1)if(u=e.charAt(i),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=d++,s[u]=!0),l=c+u,Object.prototype.hasOwnProperty.call(a,l))c=l;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<m;r++)h<<=1,v==t-1?(v=0,p.push(n(h)),h=0):v++;for(o=c.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<m;r++)h=h<<1|o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete s[c]}else for(o=a[c],r=0;r<m;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1;0==--f&&(f=Math.pow(2,m),m++),a[l]=d++,c=String(u)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<m;r++)h<<=1,v==t-1?(v=0,p.push(n(h)),h=0):v++;for(o=c.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<m;r++)h=h<<1|o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o=0;for(o=c.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete s[c]}else for(o=a[c],r=0;r<m;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1;0==--f&&(f=Math.pow(2,m),m++)}for(o=2,r=0;r<m;r++)h=h<<1|1&o,v==t-1?(v=0,p.push(n(h)),h=0):v++,o>>=1;for(;;){if(h<<=1,v==t-1){p.push(n(h));break}v++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,r){var o,i,a,s,u,l,c,f=[],d=4,m=4,p=3,h="",v=[],g={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(a=0,u=Math.pow(2,2),l=1;l!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,u=Math.pow(2,8),l=1;l!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*l,l<<=1;c=e(a);break;case 1:for(a=0,u=Math.pow(2,16),l=1;l!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*l,l<<=1;c=e(a);break;case 2:return""}for(f[3]=c,i=c,v.push(c);;){if(g.index>t)return"";for(a=0,u=Math.pow(2,p),l=1;l!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*l,l<<=1;switch(c=a){case 0:for(a=0,u=Math.pow(2,8),l=1;l!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*l,l<<=1;f[m++]=e(a),c=m-1,d--;break;case 1:for(a=0,u=Math.pow(2,16),l=1;l!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(s>0?1:0)*l,l<<=1;f[m++]=e(a),c=m-1,d--;break;case 2:return v.join("")}if(0==d&&(d=Math.pow(2,p),p++),f[c])h=f[c];else{if(c!==m)return null;h=i+i.charAt(0)}v.push(h),f[m++]=i+h.charAt(0),i=h,0==--d&&(d=Math.pow(2,p),p++)}}};return i}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,o,i;
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
o="undefined"!=typeof window?window:this,i=function(n,o){var i=[],a=n.document,s=i.slice,u=i.concat,l=i.push,c=i.indexOf,f={},d=f.toString,m=f.hasOwnProperty,p={},h=function(e,t){return new h.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g=/^-ms-/,y=/-([\da-z])/gi,b=function(e,t){return t.toUpperCase()};function x(e){var t=!!e&&"length"in e&&e.length,n=h.type(e);return"function"!==n&&!h.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}h.fn=h.prototype={jquery:"2.2.4",constructor:h,selector:"",length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return h.each(this,e)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},h.extend=h.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||h.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(h.isPlainObject(r)||(o=h.isArray(r)))?(o?(o=!1,i=n&&h.isArray(n)?n:[]):i=n&&h.isPlainObject(n)?n:{},a[t]=h.extend(l,i,r)):void 0!==r&&(a[t]=r));return a},h.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!h.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;if(e.constructor&&!m.call(e,"constructor")&&!m.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||m.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[d.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=h.trim(e))&&(1===e.indexOf("use strict")?((t=a.createElement("script")).text=e,a.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(g,"ms-").replace(y,b)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(x(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?h.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(x(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return u.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),h.isFunction(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||h.guid++,o},now:Date.now,support:p}),"function"==typeof Symbol&&(h.fn[Symbol.iterator]=i[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var w=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,r,o,i,a,s,u,l,c,f,d,m,p,h,v,g,y,b,x="sizzle"+1*new Date,w=e.document,E=0,A=0,T=ie(),S=ie(),C=ie(),M=function(e,t){return e===t&&(f=!0),0},R=1<<31,B={}.hasOwnProperty,k=[],D=k.pop,I=k.push,L=k.push,F=k.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O="\\["+N+"*("+U+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+N+"*\\]",j=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",q=new RegExp(N+"+","g"),H=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),z=new RegExp("^"+N+"*,"+N+"*"),W=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),X=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),V=new RegExp(j),$=new RegExp("^"+U+"$"),G={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){d()};try{L.apply(k=F.call(w.childNodes),w.childNodes),k[w.childNodes.length].nodeType}catch(e){L={apply:k.length?function(e,t){I.apply(e,F.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,o){var i,s,l,c,f,p,g,y,E=t&&t.ownerDocument,A=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==A&&9!==A&&11!==A)return r;if(!o&&((t?t.ownerDocument||t:w)!==m&&d(t),t=t||m,h)){if(11!==A&&(p=J.exec(e)))if(i=p[1]){if(9===A){if(!(l=t.getElementById(i)))return r;if(l.id===i)return r.push(l),r}else if(E&&(l=E.getElementById(i))&&b(t,l)&&l.id===i)return r.push(l),r}else{if(p[2])return L.apply(r,t.getElementsByTagName(e)),r;if((i=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!C[e+" "]&&(!v||!v.test(e))){if(1!==A)E=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(ee,"\\$&"):t.setAttribute("id",c=x),s=(g=a(e)).length,f=$.test(c)?"#"+c:"[id='"+c+"']";s--;)g[s]=f+" "+he(g[s]);y=g.join(","),E=Z.test(e)&&me(t.parentNode)||t}if(y)try{return L.apply(r,E.querySelectorAll(y)),r}catch(e){}finally{c===x&&t.removeAttribute("id")}}}return u(e.replace(H,"$1"),t,r,o)}function ie(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ae(e){return e[x]=!0,e}function se(e){var t=m.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||R)-(~e.sourceIndex||R);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return ae(function(t){return t=+t,ae(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},i=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:w;return a!==m&&9===a.nodeType&&a.documentElement?(p=(m=a).documentElement,h=!i(m),(o=m.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(m.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(m.getElementsByClassName),n.getById=se(function(e){return p.appendChild(e).id=x,!m.getElementsByName||!m.getElementsByName(x).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},g=[],v=[],(n.qsa=Q.test(m.querySelectorAll))&&(se(function(e){p.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+N+"*(?:value|"+_+")"),e.querySelectorAll("[id~="+x+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),se(function(e){var t=m.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+N+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Q.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&se(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",j)}),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=Q.test(p.compareDocumentPosition),b=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===m||e.ownerDocument===w&&b(w,e)?-1:t===m||t.ownerDocument===w&&b(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===m?-1:t===m?1:o?-1:i?1:c?P(c,e)-P(c,t):0;if(o===i)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},m):m},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==m&&d(e),t=t.replace(X,"='$1']"),n.matchesSelector&&h&&!C[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,m,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==m&&d(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==m&&d(e);var o=r.attrHandle[t.toLowerCase()],i=o&&B.call(r.attrHandle,t.toLowerCase())?o(e,t,!h):void 0;return void 0!==i?i:n.attributes||!h?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(M),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return c=null,e},o=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=oe.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,m,p,h=i!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(v){if(i){for(;h;){for(d=t;d=d[h];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;p=h="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(b=(m=(l=(c=(f=(d=v)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===E&&l[1])&&l[2],d=m&&v.childNodes[m];d=++m&&d&&d[h]||(b=m=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[E,m,b];break}}else if(y&&(b=m=(l=(c=(f=(d=t)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===E&&l[1]),!1===b)for(;(d=++m&&d&&d[h]||(b=m=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++b||(y&&((c=(f=d[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[E,b]),d!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return o[x]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=P(e,i[a])]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:ae(function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[x]?ae(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ae(function(e){return $.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:de(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function pe(){}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=A++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,l,c=[E,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(u=(l=t[x]||(t[x]={}))[t.uniqueID]||(l[t.uniqueID]={}))[r])&&s[0]===E&&s[1]===i)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function ge(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),l&&t.push(s)));return a}function be(e,t,n,r,o,i){return r&&!r[x]&&(r=be(r)),o&&!o[x]&&(o=be(o,i)),ae(function(i,a,s,u){var l,c,f,d=[],m=[],p=a.length,h=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?h:ye(h,d,e,s,u),g=n?o||(i?e:p||r)?[]:a:v;if(n&&n(v,g,s,u),r)for(l=ye(g,m),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(g[m[c]]=!(v[m[c]]=f));if(i){if(o||e){if(o){for(l=[],c=g.length;c--;)(f=g[c])&&l.push(v[c]=f);o(null,g=[],l,u)}for(c=g.length;c--;)(f=g[c])&&(l=o?P(i,f):d[c])>-1&&(i[l]=!(a[l]=f))}}else g=ye(g===a?g.splice(p,g.length):g),o?o(null,a,g,u):L.apply(a,g)})}function xe(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=ve(function(e){return e===t},s,!0),f=ve(function(e){return P(t,e)>-1},s,!0),d=[function(e,n,r){var o=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,o}];u<i;u++)if(n=r.relative[e[u].type])d=[ve(ge(d),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[x]){for(o=++u;o<i&&!r.relative[e[o].type];o++);return be(u>1&&ge(d),u>1&&he(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),n,u<o&&xe(e.slice(u,o)),o<i&&xe(e=e.slice(o)),o<i&&he(e))}d.push(n)}return ge(d)}return pe.prototype=r.filters=r.pseudos,r.setFilters=new pe,a=oe.tokenize=function(e,t){var n,o,i,a,s,u,l,c=S[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(o=z.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(i=[])),n=!1,(o=W.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(o=G[a].exec(s))||l[a]&&!(o=l[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):S(e,u).slice(0)},s=oe.compile=function(e,t){var n,o=[],i=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=xe(t[n]))[x]?o.push(s):i.push(s);(s=C(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,u,c){var f,p,v,g=0,y="0",b=i&&[],x=[],w=l,A=i||o&&r.find.TAG("*",c),T=E+=null==w?1:Math.random()||.1,S=A.length;for(c&&(l=a===m||a||c);y!==S&&null!=(f=A[y]);y++){if(o&&f){for(p=0,a||f.ownerDocument===m||(d(f),s=!h);v=e[p++];)if(v(f,a||m,s)){u.push(f);break}c&&(E=T)}n&&((f=!v&&f)&&g--,i&&b.push(f))}if(g+=y,n&&y!==g){for(p=0;v=t[p++];)v(b,x,a,s);if(i){if(g>0)for(;y--;)b[y]||x[y]||(x[y]=D.call(u));x=ye(x)}L.apply(u,x),c&&!i&&x.length>0&&g+t.length>1&&oe.uniqueSort(u)}return c&&(E=T,l=w),b};return n?ae(i):i}(i,o))).selector=e}return s},u=oe.select=function(e,t,o,i){var u,l,c,f,d,m="function"==typeof e&&e,p=!i&&a(e=m.selector||e);if(o=o||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&n.getById&&9===t.nodeType&&h&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return o;m&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(u=G.needsContext.test(e)?0:l.length;u--&&(c=l[u],!r.relative[f=c.type]);)if((d=r.find[f])&&(i=d(c.matches[0].replace(te,ne),Z.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(u,1),!(e=i.length&&he(l)))return L.apply(o,i),o;break}}return(m||s(e,p))(i,t,!h,o,!t||Z.test(e)&&me(t.parentNode)||t),o},n.sortStable=x.split("").sort(M).join("")===x,n.detectDuplicates=!!f,d(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(m.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||ue(_,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(n);h.find=w,h.expr=w.selectors,h.expr[":"]=h.expr.pseudos,h.uniqueSort=h.unique=w.uniqueSort,h.text=w.getText,h.isXMLDoc=w.isXML,h.contains=w.contains;var E=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&h(e).is(n))break;r.push(e)}return r},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=h.expr.match.needsContext,S=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,C=/^.[^:#\[\.,]*$/;function M(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(C.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return c.call(t,e)>-1!==n})}h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return 1===e.nodeType}))},h.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(h(e).filter(function(){for(t=0;t<n;t++)if(h.contains(o[t],this))return!0}));for(t=0;t<n;t++)h.find(e,o[t],r);return(r=this.pushStack(n>1?h.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&T.test(e)?h(e):e||[],!1).length}});var R,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),S.test(r[1])&&h.isPlainObject(t))for(r in t)h.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=a.getElementById(r[2]))&&o.parentNode&&(this.length=1,this[0]=o),this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?void 0!==n.ready?n.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))}).prototype=h.fn,R=h(a);var k=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}h.fn.extend({has:function(e){var t=h(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(h.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=T.test(e)||"string"!=typeof e?h(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&h.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?h.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?c.call(h(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return e.contentDocument||h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var o=h.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=h.filter(r,o)),this.length>1&&(D[e]||h.uniqueSort(o),k.test(e)&&o.reverse()),this.pushStack(o)}});var L,F=/\S+/g;function P(){a.removeEventListener("DOMContentLoaded",P),n.removeEventListener("load",P),h.ready()}h.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return h.each(e.match(F)||[],function(e,n){t[n]=!0}),t}(e):h.extend({},e);var t,n,r,o,i=[],a=[],s=-1,u=function(){for(o=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){h.each(n,function(n,r){h.isFunction(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==h.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return h.each(arguments,function(e,t){for(var n;(n=h.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?h.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,i){var a=h.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?h.extend(e,r):r}},o={};return r.pipe=r.then,h.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=s.call(arguments),a=i.length,u=1!==a||e&&h.isFunction(e.promise)?a:0,l=1===u?e:h.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?s.call(arguments):o,r===t?l.notifyWith(n,r):--u||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&h.isFunction(i[o].promise)?i[o].promise().progress(c(o,n,t)).done(c(o,r,i)).fail(l.reject):--u;return u||l.resolveWith(r,i),l.promise()}}),h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){(!0===e?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==e&&--h.readyWait>0||(L.resolveWith(a,[h]),h.fn.triggerHandler&&(h(a).triggerHandler("ready"),h(a).off("ready"))))}}),h.ready.promise=function(e){return L||(L=h.Deferred(),"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(h.ready):(a.addEventListener("DOMContentLoaded",P),n.addEventListener("load",P))),L.promise(e)},h.ready.promise();var _=function(e,t,n,r,o,i,a){var s=0,u=e.length,l=null==n;if("object"===h.type(n))for(s in o=!0,n)_(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,h.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(h(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:l?t.call(e):u?t(e[0],n):i},N=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function U(){this.expando=h.expando+U.uid++}U.uid=1,U.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!N(e))return{};var t=e[this.expando];return t||(t={},N(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(r in t)o[r]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,h.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=e[this.expando];if(void 0!==i){if(void 0===t)this.register(e);else{h.isArray(t)?r=t.concat(t.map(h.camelCase)):(o=h.camelCase(t),r=t in i?[t,o]:(r=o)in i?[r]:r.match(F)||[]),n=r.length;for(;n--;)delete i[r[n]]}(void 0===t||h.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!h.isEmptyObject(t)}};var O=new U,j=new U,q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/[A-Z]/g;function z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(H,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:q.test(n)?h.parseJSON(n):n)}catch(e){}j.set(e,t,n)}else n=void 0;return n}h.extend({hasData:function(e){return j.hasData(e)||O.hasData(e)},data:function(e,t,n){return j.access(e,t,n)},removeData:function(e,t){j.remove(e,t)},_data:function(e,t,n){return O.access(e,t,n)},_removeData:function(e,t){O.remove(e,t)}}),h.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=j.get(i),1===i.nodeType&&!O.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=h.camelCase(r.slice(5)),z(i,r,o[r]));O.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){j.set(this,e)}):_(this,function(t){var n,r;if(i&&void 0===t)return void 0!==(n=j.get(i,e)||j.get(i,e.replace(H,"-$&").toLowerCase()))?n:(r=h.camelCase(e),void 0!==(n=j.get(i,r))?n:void 0!==(n=z(i,r,void 0))?n:void 0);r=h.camelCase(e),this.each(function(){var n=j.get(this,r);j.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&j.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){j.remove(this,e)})}}),h.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=O.get(e,t),n&&(!r||h.isArray(n)?r=O.access(e,t,h.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,o=n.shift(),i=h._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){h.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return O.get(e,n)||O.access(e,n,{empty:h.Callbacks("once memory").add(function(){O.remove(e,[t+"queue",n])})})}}),h.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):void 0===t?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=h.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=O.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],$=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)};function G(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return h.css(e,t,"")},u=s(),l=n&&n[3]||(h.cssNumber[t]?"":"px"),c=(h.cssNumber[t]||"px"!==l&&+u)&&X.exec(h.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{c/=i=i||".5",h.style(e,t,c+l)}while(i!==(i=s()/u)&&1!==i&&--a)}return n&&(c=+c||+u||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=o)),o}var Y=/^(?:checkbox|radio)$/i,K=/<([\w:-]+)/,Q=/^$|\/(?:java|ecma)script/i,J={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&h.nodeName(e,t)?h.merge([e],n):n}function ee(e,t){for(var n=0,r=e.length;n<r;n++)O.set(e[n],"globalEval",!t||O.get(t[n],"globalEval"))}J.optgroup=J.option,J.tbody=J.tfoot=J.colgroup=J.caption=J.thead,J.th=J.td;var te,ne,re=/<|&#?\w+;/;function oe(e,t,n,r,o){for(var i,a,s,u,l,c,f=t.createDocumentFragment(),d=[],m=0,p=e.length;m<p;m++)if((i=e[m])||0===i)if("object"===h.type(i))h.merge(d,i.nodeType?[i]:i);else if(re.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(K.exec(i)||["",""])[1].toLowerCase(),u=J[s]||J._default,a.innerHTML=u[1]+h.htmlPrefilter(i)+u[2],c=u[0];c--;)a=a.lastChild;h.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(i));for(f.textContent="",m=0;i=d[m++];)if(r&&h.inArray(i,r)>-1)o&&o.push(i);else if(l=h.contains(i.ownerDocument,i),a=Z(f.appendChild(i),"script"),l&&ee(a),n)for(c=0;i=a[c++];)Q.test(i.type||"")&&n.push(i);return f}te=a.createDocumentFragment().appendChild(a.createElement("div")),(ne=a.createElement("input")).setAttribute("type","radio"),ne.setAttribute("checked","checked"),ne.setAttribute("name","t"),te.appendChild(ne),p.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var ie=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;function ue(){return!0}function le(){return!1}function ce(){try{return a.activeElement}catch(e){}}function fe(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)fe(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=le;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return h().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=h.guid++)),e.each(function(){h.event.add(this,t,o,r,n)})}h.event={global:{},add:function(e,t,n,r,o){var i,a,s,u,l,c,f,d,m,p,v,g=O.get(e);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),n.guid||(n.guid=h.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==h&&h.event.triggered!==t.type?h.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(F)||[""]).length;l--;)m=v=(s=se.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),m&&(f=h.event.special[m]||{},m=(o?f.delegateType:f.bindType)||m,f=h.event.special[m]||{},c=h.extend({type:m,origType:v,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&h.expr.match.needsContext.test(o),namespace:p.join(".")},i),(d=u[m])||((d=u[m]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(m,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),h.event.global[m]=!0)},remove:function(e,t,n,r,o){var i,a,s,u,l,c,f,d,m,p,v,g=O.hasData(e)&&O.get(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(F)||[""]).length;l--;)if(m=v=(s=se.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),m){for(f=h.event.special[m]||{},d=u[m=(r?f.delegateType:f.bindType)||m]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)c=d[i],!o&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,g.handle)||h.removeEvent(e,m,g.handle),delete u[m])}else for(m in u)h.event.remove(e,m+t[l],n,r,!0);h.isEmptyObject(u)&&O.remove(e,"handle events")}},dispatch:function(e){e=h.event.fix(e);var t,n,r,o,i,a,u=s.call(arguments),l=(O.get(this,"events")||{})[e.type]||[],c=h.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=h.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(r=((h.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[o=(i=t[n]).selector+" "]&&(r[o]=i.needsContext?h(o,this).index(u)>-1:h.find(o,this,null,[u]).length),r[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||a).documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[h.expando])return e;var t,n,r,o=e.type,i=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=ae.test(o)?this.mouseHooks:ie.test(o)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new h.Event(i),t=r.length;t--;)e[n=r[t]]=i[n];return e.target||(e.target=a),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&h.nodeName(this,"input"))return this.click(),!1},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},h.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},h.Event=function(e,t){if(!(this instanceof h.Event))return new h.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ue:le):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:le,isPropagationStopped:le,isImmediatePropagationStopped:le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||h.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),h.fn.extend({on:function(e,t,n,r){return fe(this,e,t,n,r)},one:function(e,t,n,r){return fe(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=le),this.each(function(){h.event.remove(this,e,n,t)})}});var de=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,me=/<script|<style|<link/i,pe=/checked\s*(?:[^=]|=\s*.checked.)/i,he=/^true\/(.*)/,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ge(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ye(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function be(e){var t=he.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function xe(e,t){var n,r,o,i,a,s,u,l;if(1===t.nodeType){if(O.hasData(e)&&(i=O.access(e),a=O.set(t,i),l=i.events))for(o in delete a.handle,a.events={},l)for(n=0,r=l[o].length;n<r;n++)h.event.add(t,o,l[o][n]);j.hasData(e)&&(s=j.access(e),u=h.extend({},s),j.set(t,u))}}function we(e,t,n,r){t=u.apply([],t);var o,i,a,s,l,c,f=0,d=e.length,m=d-1,v=t[0],g=h.isFunction(v);if(g||d>1&&"string"==typeof v&&!p.checkClone&&pe.test(v))return e.each(function(o){var i=e.eq(o);g&&(t[0]=v.call(this,o,i.html())),we(i,t,n,r)});if(d&&(i=(o=oe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=h.map(Z(o,"script"),ye)).length;f<d;f++)l=o,f!==m&&(l=h.clone(l,!0,!0),s&&h.merge(a,Z(l,"script"))),n.call(e[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,h.map(a,be),f=0;f<s;f++)l=a[f],Q.test(l.type||"")&&!O.access(l,"globalEval")&&h.contains(c,l)&&(l.src?h._evalUrl&&h._evalUrl(l.src):h.globalEval(l.textContent.replace(ve,"")))}return e}function Ee(e,t,n){for(var r,o=t?h.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||h.cleanData(Z(r)),r.parentNode&&(n&&h.contains(r.ownerDocument,r)&&ee(Z(r,"script")),r.parentNode.removeChild(r));return e}h.extend({htmlPrefilter:function(e){return e.replace(de,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s,u,l,c=e.cloneNode(!0),f=h.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(a=Z(c),r=0,o=(i=Z(e)).length;r<o;r++)s=i[r],u=a[r],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&Y.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(i=i||Z(e),a=a||Z(c),r=0,o=i.length;r<o;r++)xe(i[r],a[r]);else xe(e,c);return(a=Z(c,"script")).length>0&&ee(a,!f&&Z(e,"script")),c},cleanData:function(e){for(var t,n,r,o=h.event.special,i=0;void 0!==(n=e[i]);i++)if(N(n)){if(t=n[O.expando]){if(t.events)for(r in t.events)o[r]?h.event.remove(n,r):h.removeEvent(n,r,t.handle);n[O.expando]=void 0}n[j.expando]&&(n[j.expando]=void 0)}}}),h.fn.extend({domManip:we,detach:function(e){return Ee(this,e,!0)},remove:function(e){return Ee(this,e)},text:function(e){return _(this,function(e){return void 0===e?h.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return we(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ge(this,e).appendChild(e)})},prepend:function(){return we(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ge(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return we(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return we(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(h.cleanData(Z(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!me.test(e)&&!J[(K.exec(e)||["",""])[1].toLowerCase()]){e=h.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(h.cleanData(Z(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return we(this,arguments,function(t){var n=this.parentNode;h.inArray(this,e)<0&&(h.cleanData(Z(this)),n&&n.replaceChild(t,this))},e)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){for(var n,r=[],o=h(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),h(o[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}});var Ae,Te={HTML:"block",BODY:"block"};function Se(e,t){var n=h(t.createElement(e)).appendTo(t.body),r=h.css(n[0],"display");return n.detach(),r}function Ce(e){var t=a,n=Te[e];return n||("none"!==(n=Se(e,t))&&n||((t=(Ae=(Ae||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Se(e,t),Ae.detach()),Te[e]=n),n}var Me=/^margin/,Re=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Be=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},ke=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o},De=a.documentElement;function Ie(e,t,n){var r,o,i,a,s=e.style;return""!==(a=(n=n||Be(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||h.contains(e.ownerDocument,e)||(a=h.style(e,t)),n&&!p.pixelMarginRight()&&Re.test(a)&&Me.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),void 0!==a?a+"":a}function Le(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,r,o,i=a.createElement("div"),s=a.createElement("div");function u(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",De.appendChild(i);var a=n.getComputedStyle(s);e="1%"!==a.top,o="2px"===a.marginLeft,t="4px"===a.width,s.style.marginRight="50%",r="4px"===a.marginRight,De.removeChild(i)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===s.style.backgroundClip,i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",i.appendChild(s),h.extend(p,{pixelPosition:function(){return u(),e},boxSizingReliable:function(){return null==t&&u(),t},pixelMarginRight:function(){return null==t&&u(),r},reliableMarginLeft:function(){return null==t&&u(),o},reliableMarginRight:function(){var e,t=s.appendChild(a.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",De.appendChild(i),e=!parseFloat(n.getComputedStyle(t).marginRight),De.removeChild(i),s.removeChild(t),e}}))}();var Fe=/^(none|table(?!-c[ea]).+)/,Pe={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:"0",fontWeight:"400"},Ne=["Webkit","O","Moz","ms"],Ue=a.createElement("div").style;function Oe(e){if(e in Ue)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ne.length;n--;)if((e=Ne[n]+t)in Ue)return e}function je(e,t,n){var r=X.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function qe(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=h.css(e,n+V[i],!0,o)),r?("content"===n&&(a-=h.css(e,"padding"+V[i],!0,o)),"margin"!==n&&(a-=h.css(e,"border"+V[i]+"Width",!0,o))):(a+=h.css(e,"padding"+V[i],!0,o),"padding"!==n&&(a+=h.css(e,"border"+V[i]+"Width",!0,o)));return a}function He(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=Be(e),a="border-box"===h.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(((o=Ie(e,t,i))<0||null==o)&&(o=e.style[t]),Re.test(o))return o;r=a&&(p.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+qe(e,t,n||(a?"border":"content"),r,i)+"px"}function ze(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(i[a]=O.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&$(r)&&(i[a]=O.access(r,"olddisplay",Ce(r.nodeName)))):(o=$(r),"none"===n&&o||O.set(r,"olddisplay",o?n:h.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function We(e,t,n,r,o){return new We.prototype.init(e,t,n,r,o)}h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ie(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=h.camelCase(t),u=e.style;if(t=h.cssProps[s]||(h.cssProps[s]=Oe(s)||s),a=h.cssHooks[t]||h.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];"string"===(i=typeof n)&&(o=X.exec(n))&&o[1]&&(n=G(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(h.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=h.camelCase(t);return t=h.cssProps[s]||(h.cssProps[s]=Oe(s)||s),(a=h.cssHooks[t]||h.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ie(e,t,r)),"normal"===o&&t in _e&&(o=_e[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){if(n)return Fe.test(h.css(e,"display"))&&0===e.offsetWidth?ke(e,Pe,function(){return He(e,t,r)}):He(e,t,r)},set:function(e,n,r){var o,i=r&&Be(e),a=r&&qe(e,t,r,"border-box"===h.css(e,"boxSizing",!1,i),i);return a&&(o=X.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=h.css(e,t)),je(0,n,a)}}}),h.cssHooks.marginLeft=Le(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ie(e,"marginLeft"))||e.getBoundingClientRect().left-ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),h.cssHooks.marginRight=Le(p.reliableMarginRight,function(e,t){if(t)return ke(e,{display:"inline-block"},Ie,[e,"marginRight"])}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+V[r]+t]=i[r]||i[r-2]||i[0];return o}},Me.test(e)||(h.cssHooks[e+t].set=je)}),h.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,o,i={},a=0;if(h.isArray(t)){for(r=Be(e),o=t.length;a<o;a++)i[t[a]]=h.css(e,t[a],!1,r);return i}return void 0!==n?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return ze(this,!0)},hide:function(){return ze(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$(this)?h(this).show():h(this).hide()})}}),h.Tween=We,We.prototype={constructor:We,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||h.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(h.cssNumber[n]?"":"px")},cur:function(){var e=We.propHooks[this.prop];return e&&e.get?e.get(this):We.propHooks._default.get(this)},run:function(e){var t,n=We.propHooks[this.prop];return this.options.duration?this.pos=t=h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):We.propHooks._default.set(this),this}},We.prototype.init.prototype=We.prototype,We.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=h.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[h.cssProps[e.prop]]&&!h.cssHooks[e.prop]?e.elem[e.prop]=e.now:h.style(e.elem,e.prop,e.now+e.unit)}}},We.propHooks.scrollTop=We.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},h.fx=We.prototype.init,h.fx.step={};var Xe,Ve,$e=/^(?:toggle|show|hide)$/,Ge=/queueHooks$/;function Ye(){return n.setTimeout(function(){Xe=void 0}),Xe=h.now()}function Ke(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=V[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Qe(e,t,n){for(var r,o=(Je.tweeners[t]||[]).concat(Je.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function Je(e,t,n){var r,o,i=0,a=Je.prefilters.length,s=h.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=Xe||Ye(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),i=0,a=l.tweens.length;i<a;i++)l.tweens[i].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},n),originalProperties:t,originalOptions:n,startTime:Xe||Ye(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=h.camelCase(n)],i=e[n],h.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=h.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(c,l.opts.specialEasing);i<a;i++)if(r=Je.prefilters[i].call(l,e,c,l.opts))return h.isFunction(r.stop)&&(h._queueHooks(l.elem,l.opts.queue).stop=h.proxy(r.stop,r)),r;return h.map(c,Qe,l),h.isFunction(l.opts.start)&&l.opts.start.call(e,l),h.fx.timer(h.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}h.Animation=h.extend(Je,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return G(n.elem,e,X.exec(t),n),n}]},tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,o=e.length;r<o;r++)n=e[r],Je.tweeners[n]=Je.tweeners[n]||[],Je.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,u,l,c=this,f={},d=e.style,m=e.nodeType&&$(e),p=O.get(e,"fxshow");for(r in n.queue||(null==(s=h._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,h.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=h.css(e,"display"))?O.get(e,"olddisplay")||Ce(e.nodeName):l)&&"none"===h.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(o=t[r],$e.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!p||void 0===p[r])continue;m=!0}f[r]=p&&p[r]||h.style(e,r)}else l=void 0;if(h.isEmptyObject(f))"inline"===("none"===l?Ce(e.nodeName):l)&&(d.display=l);else for(r in p?"hidden"in p&&(m=p.hidden):p=O.access(e,"fxshow",{}),i&&(p.hidden=!m),m?h(e).show():c.done(function(){h(e).hide()}),c.done(function(){var t;for(t in O.remove(e,"fxshow"),f)h.style(e,t,f[t])}),f)a=Qe(m?p[r]:0,r,c),r in p||(p[r]=a.start,m&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?Je.prefilters.unshift(e):Je.prefilters.push(e)}}),h.speed=function(e,t,n){var r=e&&"object"==typeof e?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};return r.duration=h.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter($).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=h.isEmptyObject(e),i=h.speed(t,n,r),a=function(){var t=Je(this,h.extend({},e),i);(o||O.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=h.timers,a=O.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Ge.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||h.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=O.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=h.timers,a=r?r.length:0;for(n.finish=!0,h.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ke(t,!0),e,r,o)}}),h.each({slideDown:Ke("show"),slideUp:Ke("hide"),slideToggle:Ke("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=0,n=h.timers;for(Xe=h.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||h.fx.stop(),Xe=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Ve||(Ve=n.setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){n.clearInterval(Ve),Ve=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx&&h.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=a.createElement("input"),t=a.createElement("select"),n=t.appendChild(a.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=n.selected,t.disabled=!0,p.optDisabled=!n.disabled,(e=a.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var Ze,et=h.expr.attrHandle;h.fn.extend({attr:function(e,t){return _(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?h.prop(e,t,n):(1===i&&h.isXMLDoc(e)||(t=t.toLowerCase(),o=h.attrHooks[t]||(h.expr.match.bool.test(t)?Ze:void 0)),void 0!==n?null===n?void h.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=h.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(F);if(i&&1===e.nodeType)for(;n=i[o++];)r=h.propFix[n]||n,h.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),Ze={set:function(e,t,n){return!1===t?h.removeAttr(e,n):e.setAttribute(n,n),n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=et[t]||h.find.attr;et[t]=function(e,t,r){var o,i;return r||(i=et[t],et[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,et[t]=i),o}});var tt=/^(?:input|select|textarea|button)$/i,nt=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return _(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[h.propFix[e]||e]})}}),h.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&h.isXMLDoc(e)||(t=h.propFix[t]||t,o=h.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):tt.test(e.nodeName)||nt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this});var rt=/[\t\r\n\f]/g;function ot(e){return e.getAttribute&&e.getAttribute("class")||""}h.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,u=0;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,ot(this)))});if("string"==typeof e&&e)for(t=e.match(F)||[];n=this[u++];)if(o=ot(n),r=1===n.nodeType&&(" "+o+" ").replace(rt," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=h.trim(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,u=0;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,ot(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(F)||[];n=this[u++];)if(o=ot(n),r=1===n.nodeType&&(" "+o+" ").replace(rt," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=h.trim(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):h.isFunction(e)?this.each(function(n){h(this).toggleClass(e.call(this,n,ot(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=h(this),i=e.match(F)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=ot(this))&&O.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":O.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ot(n)+" ").replace(rt," ").indexOf(t)>-1)return!0;return!1}});var it=/\r/g,at=/[\x20\t\r\n\f]+/g;h.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=h.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,h(this).val()):e)?o="":"number"==typeof o?o+="":h.isArray(o)&&(o=h.map(o,function(e){return null==e?"":e+""})),(t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=h.valHooks[o.type]||h.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(it,""):null==n?"":n:void 0}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e)).replace(at," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,u=o<0?s:i?o:0;u<s;u++)if(((n=r[u]).selected||u===o)&&(p.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!h.nodeName(n.parentNode,"optgroup"))){if(t=h(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=h.makeArray(t),a=o.length;a--;)((r=o[a]).selected=h.inArray(h.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){if(h.isArray(t))return e.checked=h.inArray(h(e).val(),t)>-1}},p.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var st=/^(?:focusinfocus|focusoutblur)$/;h.extend(h.event,{trigger:function(e,t,r,o){var i,s,u,l,c,f,d,p=[r||a],v=m.call(e,"type")?e.type:e,g=m.call(e,"namespace")?e.namespace.split("."):[];if(s=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!st.test(v+h.event.triggered)&&(v.indexOf(".")>-1&&(g=v.split("."),v=g.shift(),g.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[h.expando]?e:new h.Event(v,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:h.makeArray(t,[e]),d=h.event.special[v]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!h.isWindow(r)){for(l=d.delegateType||v,st.test(l+v)||(s=s.parentNode);s;s=s.parentNode)p.push(s),u=s;u===(r.ownerDocument||a)&&p.push(u.defaultView||u.parentWindow||n)}for(i=0;(s=p[i++])&&!e.isPropagationStopped();)e.type=i>1?l:d.bindType||v,(f=(O.get(s,"events")||{})[e.type]&&O.get(s,"handle"))&&f.apply(s,t),(f=c&&s[c])&&f.apply&&N(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!N(r)||c&&h.isFunction(r[v])&&!h.isWindow(r)&&((u=r[c])&&(r[c]=null),h.event.triggered=v,r[v](),h.event.triggered=void 0,u&&(r[c]=u)),e.result}},simulate:function(e,t,n){var r=h.extend(new h.Event,n,{type:e,isSimulated:!0});h.event.trigger(r,null,t)}}),h.fn.extend({trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return h.event.trigger(e,t,n,!0)}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),p.focusin="onfocusin"in n,p.focusin||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e))};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=O.access(r,t);o||r.addEventListener(e,n,!0),O.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=O.access(r,t)-1;o?O.access(r,t,o):(r.removeEventListener(e,n,!0),O.remove(r,t))}}});var ut=n.location,lt=h.now(),ct=/\?/;h.parseJSON=function(e){return JSON.parse(e+"")},h.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+e),t};var ft=/#.*$/,dt=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:GET|HEAD)$/,ht=/^\/\//,vt={},gt={},yt="*/".concat("*"),bt=a.createElement("a");function xt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(F)||[];if(h.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function wt(e,t,n,r){var o={},i=e===gt;function a(s){var u;return o[s]=!0,h.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||i||o[l]?i?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Et(e,t){var n,r,o=h.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&h.extend(!0,e,r),e}bt.href=ut.href,h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ut.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Et(Et(e,h.ajaxSettings),t):Et(h.ajaxSettings,e)},ajaxPrefilter:xt(vt),ajaxTransport:xt(gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,s,u,l,c,f,d=h.ajaxSetup({},t),m=d.context||d,p=d.context&&(m.nodeType||m.jquery)?h(m):h.event,v=h.Deferred(),g=h.Callbacks("once memory"),y=d.statusCode||{},b={},x={},w=0,E="canceled",A={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=mt.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=x[n]=x[n]||e,b[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)y[t]=[y[t],e[t]];else A.always(e[A.status]);return this},abort:function(e){var t=e||E;return r&&r.abort(t),T(0,t),this}};if(v.promise(A).complete=g.add,A.success=A.done,A.error=A.fail,d.url=((e||d.url||ut.href)+"").replace(ft,"").replace(ht,ut.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=h.trim(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){l=a.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=bt.protocol+"//"+bt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=h.param(d.data,d.traditional)),wt(vt,d,t,A),2===w)return A;for(f in(c=h.event&&d.global)&&0==h.active++&&h.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(ct.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=dt.test(o)?o.replace(dt,"$1_="+lt++):o+(ct.test(o)?"&":"?")+"_="+lt++)),d.ifModified&&(h.lastModified[o]&&A.setRequestHeader("If-Modified-Since",h.lastModified[o]),h.etag[o]&&A.setRequestHeader("If-None-Match",h.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&A.setRequestHeader("Content-Type",d.contentType),A.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+yt+"; q=0.01":""):d.accepts["*"]),d.headers)A.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(m,A,d)||2===w))return A.abort();for(f in E="abort",{success:1,error:1,complete:1})A[f](d[f]);if(r=wt(gt,d,t,A)){if(A.readyState=1,c&&p.trigger("ajaxSend",[A,d]),2===w)return A;d.async&&d.timeout>0&&(u=n.setTimeout(function(){A.abort("timeout")},d.timeout));try{w=1,r.send(b,T)}catch(e){if(!(w<2))throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,a,s){var l,f,b,x,E,T=t;2!==w&&(w=2,u&&n.clearTimeout(u),r=void 0,i=s||"",A.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(x=function(e,t,n){for(var r,o,i,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),n[i]}(d,A,a)),x=function(e,t,n,r){var o,i,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=c.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=l[u+" "+i]||l["* "+i]))for(o in l)if((s=o.split(" "))[1]===i&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[o]:!0!==l[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}(d,x,A,l),l?(d.ifModified&&((E=A.getResponseHeader("Last-Modified"))&&(h.lastModified[o]=E),(E=A.getResponseHeader("etag"))&&(h.etag[o]=E)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=x.state,f=x.data,l=!(b=x.error))):(b=T,!e&&T||(T="error",e<0&&(e=0))),A.status=e,A.statusText=(t||T)+"",l?v.resolveWith(m,[f,T,A]):v.rejectWith(m,[A,T,b]),A.statusCode(y),y=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[A,d,l?f:b]),g.fireWith(m,[A,T]),c&&(p.trigger("ajaxComplete",[A,d]),--h.active||h.event.trigger("ajaxStop")))}return A},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,o){return h.isFunction(n)&&(o=o||r,r=n,n=void 0),h.ajax(h.extend({url:e,type:t,dataType:o,data:n,success:r},h.isPlainObject(e)&&e))}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},h.fn.extend({wrapAll:function(e){var t;return h.isFunction(e)?this.each(function(t){h(this).wrapAll(e.call(this,t))}):(this[0]&&(t=h(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return h.isFunction(e)?this.each(function(t){h(this).wrapInner(e.call(this,t))}):this.each(function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return!h.expr.filters.visible(e)},h.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var At=/%20/g,Tt=/\[\]$/,St=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,r){var o;if(h.isArray(t))h.each(t,function(t,o){n||Tt.test(e)?r(e,o):Rt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==h.type(t))r(e,t);else for(o in t)Rt(e+"["+o+"]",t[o],n,r)}h.param=function(e,t){var n,r=[],o=function(e,t){t=h.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){o(this.name,this.value)});else for(n in e)Rt(n,e[n],t,o);return r.join("&").replace(At,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&Mt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!Y.test(e))}).map(function(e,t){var n=h(this).val();return null==n?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),h.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},kt=h.ajaxSettings.xhr();p.cors=!!kt&&"withCredentials"in kt,p.ajax=kt=!!kt,h.ajaxTransport(function(e){var t,r;if(p.cors||kt&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Bt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),h.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,o){t=h("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var Dt=[],It=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||h.expando+"_"+lt++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,s=!1!==e.jsonp&&(It.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&It.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=h.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(It,"$1"+o):!1!==e.jsonp&&(e.url+=(ct.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||h.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?h(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Dt.push(o)),a&&h.isFunction(i)&&i(a[0]),a=i=void 0}),"script"}),h.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=S.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=oe([e],t,o),o&&o.length&&h(o).remove(),h.merge([],r.childNodes))};var Lt=h.fn.load;function Ft(e){return h.isWindow(e)?e:9===e.nodeType&&e.defaultView}h.fn.load=function(e,t,n){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=h.trim(e.slice(s)),e=e.slice(0,s)),h.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&h.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length},h.offset={setOffset:function(e,t,n){var r,o,i,a,s,u,l=h.css(e,"position"),c=h(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),i=h.css(e,"top"),u=h.css(e,"left"),("absolute"===l||"fixed"===l)&&(i+u).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),h.isFunction(t)&&(t=t.call(e,n,h.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):c.css(f)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;return i?(t=i.documentElement,h.contains(t,r)?(o=r.getBoundingClientRect(),n=Ft(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===h.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(r=e.offset()),r.top+=h.css(e[0],"borderTopWidth",!0),r.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-h.css(n,"marginTop",!0),left:t.left-r.left-h.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===h.css(e,"position");)e=e.offsetParent;return e||De})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;h.fn[e]=function(r){return _(this,function(e,r,o){var i=Ft(e);if(void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=Le(p.pixelPosition,function(e,n){if(n)return n=Ie(e,t),Re.test(n)?h(e).position()[t]+"px":n})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return _(this,function(t,n,r){var o;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?h.css(t,n,a):h.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),h.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),h.fn.andSelf=h.fn.addBack,void 0===(r=function(){return h}.apply(t,[]))||(e.exports=r);var Pt=n.jQuery,_t=n.$;return h.noConflict=function(e){return n.$===h&&(n.$=_t),e&&n.jQuery===h&&(n.jQuery=Pt),h},o||(n.jQuery=n.$=h),h},"object"==typeof e.exports?e.exports=o.document?i(o,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(o)},function(e,t){e.exports=function(e){for(var t=e.split("\n"),n=parseInt(t[0]),r=Math.floor(t.length/(n+2)),o=[],i=0;i<r;i++){for(var a=[],s=0;s<n;s++){for(var u=t[i*(n+2)+s+2].split(/\s+/),l={},c=0;""==u[c];)c++;l.symbol=u[c++],l.position=[parseFloat(u[c++]),parseFloat(u[c++]),parseFloat(u[c++])],a.push(l)}o.push(a)}return o}},function(e,t){e.exports=[{name:"Testosterone",file:"testosterone.xyz"},{name:"Caffeine",file:"caffeine.xyz"},{name:"Protein 4E0O",file:"4E0O.xyz"},{name:"Protein 4QCI",file:"4QCI.xyz"},{name:"DNA",file:"dna.xyz"},{name:"Gold Nanoparticle",file:"au.xyz"},{name:"Thiolated Gold Nanoparticle",file:"au_thiol.xyz"},{name:"Benzene",file:"benzene.xyz"},{name:"Methane",file:"methane.xyz"}]},function(e,t,n){"use strict";var r=document.createElement("canvas");r.width=r.height=1;for(var o=["png","jpeg","gif","bmp","webp"],i=e.exports=[],a=0;a<o.length;a++){var s=o[a];r.toDataURL("image/"+s).indexOf("image/"+s)>-1&&i.push(s)}}])});